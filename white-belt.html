<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Performance: Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">

    <!-- Performance: Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>White Belt: Know Thyself | TAP-IN</title>
    
    <!-- Supabase & Auth -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/auth-system.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/core-styles.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { 
            --primary-navy: #1a365d; 
            --secondary-navy: #334155; 
            --accent-red: #b91c1c; 
            --accent-purple: #a78bfa; 
            --success-green: #38a169; 
            --warning-orange: #dd6b20; 
            --card-bg: #ffffff; 
            --border-light: #e2e8f0; 
            --text-dark: #1e293b; 
            --text-muted: #64748b; 
            --light-bg: #f8fafc; 
        }
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #1a365d 0%, #7c3aed 100%); min-height: 100vh; padding: 2rem 1rem; line-height: 1.6; }
        .container { max-width: 900px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 2rem; color: white; }
        .belt-badge { display: inline-block; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); padding: 0.75rem 1.5rem; border-radius: 30px; font-size: 1rem; margin-bottom: 1rem; font-weight: 600; }
        .header h1 { font-size: clamp(2rem, 5vw, 2.75rem); font-weight: 800; margin-bottom: 0.5rem; background: linear-gradient(135deg, #ffffff 0%, #e2e8f0 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .header p { font-size: 1.2rem; opacity: 0.8; max-width: 600px; margin: 0 auto; }
        .progress-section { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 1.5rem; margin-bottom: 2rem; }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .progress-title { color: white; font-weight: 600; }
        .progress-count { color: #e2e8f0; font-weight: 700; }
        .stripe-visual { display: flex; gap: 0.5rem; margin-bottom: 1rem; }
        .stripe { height: 8px; flex: 1; border-radius: 4px; background: rgba(255,255,255,0.2); transition: all 0.3s; }
        .stripe.earned { background: linear-gradient(90deg, var(--accent-red) 0%, #dc2626 100%); box-shadow: 0 0 10px rgba(185, 28, 28, 0.5); }
        .progress-bar-container { background: rgba(255,255,255,0.1); height: 6px; border-radius: 3px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: linear-gradient(90deg, var(--accent-red) 0%, #dc2626 100%); border-radius: 3px; transition: width 0.5s ease; }
        .main-card { background: white; border-radius: 20px; padding: 2.5rem; box-shadow: 0 25px 80px rgba(0,0,0,0.4); }
        .intro-box { background: var(--light-bg); border: 1px solid var(--border-light); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; }
        .intro-box h3 { color: var(--primary-navy); font-size: 1.1rem; margin-bottom: 0.75rem; }
        .intro-box p { color: var(--text-dark); font-size: 0.95rem; margin-bottom: 0.75rem; line-height: 1.7; }
        .intro-box p:last-child { margin-bottom: 0; }
        .intro-box strong { color: var(--primary-navy); }
        .intro-box.philosophy { background: linear-gradient(135deg, var(--light-bg) 0%, #e2e8f0 100%); border-left: 6px solid var(--primary-navy); }
        .intro-box.philosophy em { color: var(--accent-purple); }
        .intro-box.research { background: linear-gradient(135deg, var(--primary-navy) 0%, var(--secondary-navy) 100%); border: none; }
        .intro-box.research h3 { color: #fff; }
        .intro-box.research p { color: #e2e8f0; }
        .intro-box.research strong { color: var(--accent-purple); }
        .stripe-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin: 2rem 0; }
        .stripe-card { background: white; border: 2px solid var(--border-light); border-radius: 16px; padding: 1.5rem; transition: all 0.3s; text-decoration: none; display: block; cursor: pointer; }
        .stripe-card:hover { border-color: #cbd5e1; transform: translateY(-4px); box-shadow: 0 10px 30px rgba(30, 41, 59, 0.15); }
        .stripe-card.complete { border-color: var(--success-green); background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); }
        .stripe-card.locked { opacity: 0.6; cursor: not-allowed; position: relative; }
        .stripe-card.locked::after { content: 'üîí'; position: absolute; top: 1rem; right: 1rem; font-size: 1.5rem; }
        .stripe-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; }
        .stripe-number { width: 50px; height: 50px; background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.25rem; flex-shrink: 0; }
        .stripe-card.complete .stripe-number { background: linear-gradient(135deg, var(--success-green) 0%, #2f855a 100%); }
        .stripe-card.locked .stripe-number { background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%); opacity: 0.5; }
        .stripe-title { font-weight: 700; color: var(--text-dark); font-size: 1.1rem; }
        .stripe-subtitle { font-size: 0.85rem; color: var(--text-muted); }
        .stripe-description { color: var(--text-muted); font-size: 0.9rem; margin-bottom: 1rem; }
        .stripe-topics { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem; }
        .topic-tag { background: #f1f5f9; color: var(--text-dark); padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem; }
        .btn { display: inline-block; padding: 1rem 2rem; border-radius: 10px; font-size: 1rem; font-weight: 600; text-decoration: none; transition: all 0.3s; border: none; cursor: pointer; text-align: center; }
        .btn-primary { background: linear-gradient(135deg, var(--primary-navy) 0%, var(--secondary-navy) 100%); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(26, 54, 93, 0.3); }
        .btn-secondary { background: #edf2f7; color: var(--text-dark); }
        .nav-buttons { display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem; }
        @media (max-width: 768px) { body { padding: 1rem; } .main-card { padding: 1.5rem; } .header h1 { font-size: 2rem; } .nav-buttons { flex-direction: column; } .btn { width: 100%; text-align: center; } .stripe-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="belt-badge">‚ö™ WHITE BELT</div>
            <h1>Know Thyself</h1>
            <p>Before you can lead others, you must understand yourself. This is your foundation.</p>
        </div>

        <div class="progress-section">
            <div class="progress-header">
                <span class="progress-title">White Belt Progress</span>
                <span class="progress-count" id="stripe-count">0/4 Stripes</span>
            </div>
            <div class="stripe-visual">
                <div class="stripe" id="stripe-1"></div>
                <div class="stripe" id="stripe-2"></div>
                <div class="stripe" id="stripe-3"></div>
                <div class="stripe" id="stripe-4"></div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="main-card">
            <div class="intro-box philosophy">
                <h3>üèõÔ∏è Ancient Wisdom, Modern Application</h3>
                <p><em>"Know Thyself"</em> - inscribed at the Temple of Apollo at Delphi</p>
                <p>You can't build trust with others until you're honest with yourself. You can't have healthy conflict if you don't know your triggers. You can't make commitments if you don't know your values.</p>
                <p><strong>White Belt is about YOU.</strong> Understanding who you are, how you operate, what you value, and why you're here.</p>
            </div>

            <div class="intro-box research">
                <h3>üìä Why This Matters</h3>
                <p><strong>Google's Project Aristotle</strong> studied 180 teams and found that <strong>psychological safety</strong> (the ability to be vulnerable without fear) was the #1 predictor of team success‚Äîstronger than talent, resources, or strategy.</p>
                <p>But you can't be vulnerable about what you don't know about yourself. White Belt builds the self-awareness foundation that makes vulnerability possible.</p>
            </div>

            <div class="intro-box">
                <h3>ü•ã BJJ Principle: Position Before Submission</h3>
                <p>In Jiu-Jitsu, you must secure your position before attempting a submission. Same in leadership: secure your self-knowledge before engaging with others.</p>
                <p><strong>White Belt = Your Position</strong><br>Blue Belt = Engaging with Others</p>
            </div>

            <h2 style="color: var(--text-dark); margin: 2rem 0 1rem; text-align: center;">ü•ã Your White Belt Journey</h2>

            <div class="stripe-grid">
                <!-- Stripe 1 -->
                <a href="white-belt-stripe1-carousel-NEW.html" class="stripe-card" id="stripe1-card">
                    <div class="stripe-header">
                        <div class="stripe-number">1</div>
                        <div>
                            <div class="stripe-title">Who Are You?</div>
                            <div class="stripe-subtitle">5-7 minutes</div>
                        </div>
                    </div>
                    <p class="stripe-description">
                        Discover your worker type: Are you a Sprinter, Jogger, or Ultrarunner? Understanding your natural rhythm is the first step to self-knowledge.
                    </p>
                    <div class="stripe-topics">
                        <span class="topic-tag">üèÉ Worker Type</span>
                        <span class="topic-tag">‚ö° Energy Patterns</span>
                        <span class="topic-tag">üí™ Strengths</span>
                    </div>
                </a>

                <!-- Stripe 2 -->
                <a href="white-belt-stripe2-carousel-NEW.html" class="stripe-card" id="stripe2-card">
                    <div class="stripe-header">
                        <div class="stripe-number">2</div>
                        <div>
                            <div class="stripe-title">How Do You Operate?</div>
                            <div class="stripe-subtitle">5-7 minutes</div>
                        </div>
                    </div>
                    <p class="stripe-description">
                        Understand your mental health patterns, stress responses, and energy management. Self-awareness is the foundation of self-regulation.
                    </p>
                    <div class="stripe-topics">
                        <span class="topic-tag">üß† Mental Health</span>
                        <span class="topic-tag">‚ö° Energy Management</span>
                        <span class="topic-tag">üéØ Patterns</span>
                    </div>
                </a>

                <!-- Stripe 3 -->
                <a href="white-belt-stripe3-carousel-NEW.html" class="stripe-card locked" id="stripe3-card">
                    <div class="stripe-header">
                        <div class="stripe-number">3</div>
                        <div>
                            <div class="stripe-title">What Do You Value?</div>
                            <div class="stripe-subtitle">5-7 minutes</div>
                        </div>
                    </div>
                    <p class="stripe-description">
                        Clarify your core values and priorities. You can't set boundaries if you don't know what matters most.
                    </p>
                    <div class="stripe-topics">
                        <span class="topic-tag">üíé Values</span>
                        <span class="topic-tag">üéØ Priorities</span>
                        <span class="topic-tag">‚öñÔ∏è Alignment</span>
                    </div>
                </a>

                <!-- Stripe 4 -->
                <a href="white-belt-stripe4-carousel-NEW.html" class="stripe-card locked" id="stripe4-card">
                    <div class="stripe-header">
                        <div class="stripe-number">4</div>
                        <div>
                            <div class="stripe-title">How Do You Show Up?</div>
                            <div class="stripe-subtitle">5-7 minutes</div>
                        </div>
                    </div>
                    <p class="stripe-description">
                        Define your mission and purpose. Why are you here? What's your "why"? This completes your self-knowledge foundation.
                    </p>
                    <div class="stripe-topics">
                        <span class="topic-tag">üéØ Mission</span>
                        <span class="topic-tag">üåü Purpose</span>
                        <span class="topic-tag">üèÜ Legacy</span>
                    </div>
                </a>
            </div>

            <div class="nav-buttons">
                <a href="gym-dashboard.html" class="btn btn-secondary">
                    ‚Üê Back to Gym
                </a>
                <button onclick="continueStripe()" class="btn btn-primary">
                    Continue Journey ‚Üí
                </button>
            </div>
        </div>
    </div>

    <script>
        // Progress tracking
        function updateProgress() {
            const stripe1 = localStorage.getItem('whiteBeltStripe1Complete') === 'true';
            const stripe2 = localStorage.getItem('whiteBeltStripe2Complete') === 'true';
            const stripe3 = localStorage.getItem('whiteBeltStripe3Complete') === 'true';
            const stripe4 = localStorage.getItem('whiteBeltStripe4Complete') === 'true';
            
            const completed = [stripe1, stripe2, stripe3, stripe4].filter(Boolean).length;
            const percentage = (completed / 4) * 100;
            
            // Update progress count
            document.getElementById('stripe-count').textContent = `${completed}/4 Stripes`;
            
            // Update progress bar
            document.getElementById('progress-fill').style.width = percentage + '%';
            
            // CRITICAL: Ensure Stripe 1 is always unlocked (first visit)
            const stripe1Card = document.getElementById('stripe1-card');
            if (stripe1Card) {
                stripe1Card.classList.remove('locked');
            }
            
            // Update stripe visuals
            if (stripe1) {
                document.getElementById('stripe-1').classList.add('earned');
                stripe1Card.classList.add('complete');
                document.getElementById('stripe2-card').classList.remove('locked');
            }
            if (stripe2) {
                document.getElementById('stripe-2').classList.add('earned');
                document.getElementById('stripe2-card').classList.add('complete');
                document.getElementById('stripe2-card').classList.remove('locked');
                document.getElementById('stripe3-card').classList.remove('locked');
            }
            if (stripe3) {
                document.getElementById('stripe-3').classList.add('earned');
                document.getElementById('stripe3-card').classList.add('complete');
                document.getElementById('stripe3-card').classList.remove('locked');
                document.getElementById('stripe4-card').classList.remove('locked');
            }
            if (stripe4) {
                document.getElementById('stripe-4').classList.add('earned');
                document.getElementById('stripe4-card').classList.add('complete');
                document.getElementById('stripe4-card').classList.remove('locked');
            }
        }

        function continueStripe() {
            // Find next incomplete stripe
            if (!localStorage.getItem('whiteBeltStripe1Complete')) {
                window.location.href = 'white-belt-stripe1-carousel-NEW.html';
            } else if (!localStorage.getItem('whiteBeltStripe2Complete')) {
                window.location.href = 'white-belt-stripe2-carousel-NEW.html';
            } else if (!localStorage.getItem('whiteBeltStripe3Complete')) {
                window.location.href = 'white-belt-stripe3-carousel-NEW.html';
            } else if (!localStorage.getItem('whiteBeltStripe4Complete')) {
                window.location.href = 'white-belt-stripe4-carousel-NEW.html';
            } else {
                // All complete!
                if (confirm('White Belt Complete! Ready for Blue Belt?')) {
                    window.location.href = 'blue-belt.html';
                }
            }
        }

        // Run on load
        updateProgress();
    </script>
<!-- Core Modules -->
<script src="js/core-gamification.js"></script>
<script src="js/core-progress-tracker.js"></script>
<script src="js/keyboard-navigation.js"></script>
<!-- TAP-IN Utilities -->
<script src="js/shared-utilities.js"></script>
<script src="js/global-error-handler.min.js"></script>
<script src="js/storage-health.min.js"></script>
    <!-- TAP-IN Core Modules -->
    <script src="js/language-switcher.min.js"></script>
    <script src="js/meta-tags-manager.js"></script>
    <script src="js/achievement-badges.js"></script>
    <script src="js/structured-data.js"></script>


    <!-- Screen Reader Enhancements for Accessibility -->
    <script src="js/screen-reader-enhancements.js" defer></script>
</body>
</html>
