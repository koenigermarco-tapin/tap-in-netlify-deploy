<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>üü£ Purple Belt - Stripe 1: Commitment Foundations | Tap-In Leadership</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .module-header {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            border: 3px solid #7e22ce;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .belt-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 700;
            color: #7e22ce;
            margin-bottom: 15px;
            border: 2px solid #c084fc;
        }

        .stripe-indicator {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
        }

        .stripe-dot {
            width: 12px;
            height: 40px;
            background: #6b21a8;
            border-radius: 3px;
        }

        .stripe-dot.inactive {
            background: #e9d5ff;
        }

        h1 {
            color: white;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .module-description {
            color: #f3e8ff;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255,255,255,0.95);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e9d5ff;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #a855f7;
            display: block;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 15px;
        }

        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            color: #f3e8ff;
            font-size: 14px;
            text-align: center;
            margin-top: 8px;
            font-weight: 500;
        }

        .lessons-grid {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .lesson-card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #f3e8ff;
            transition: all 0.3s ease;
        }

        .lesson-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(168,85,247,0.2);
            border-color: #a855f7;
        }

        .lesson-card.completed {
            border-color: #10b981;
            background: linear-gradient(to bottom, white 0%, #f0fdf4 100%);
        }

        .lesson-card.locked {
            opacity: 0.6;
            pointer-events: none;
        }

        .lesson-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .lesson-number {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            color: white;
            font-weight: 700;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            border: 2px solid #7e22ce;
        }

        .lesson-status {
            font-size: 24px;
        }

        h2 {
            color: #1e293b;
            font-size: 24px;
            margin-bottom: 15px;
            margin-top: 10px;
        }

        .lesson-description {
            color: #64748b;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .lesson-content {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .content-section {
            margin-bottom: 20px;
        }

        .content-section:last-child {
            margin-bottom: 0;
        }

        h3 {
            color: #a855f7;
            font-size: 18px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .concept-list {
            list-style: none;
            padding-left: 0;
        }

        .concept-list li {
            padding: 12px 0;
            border-bottom: 1px solid #e2e8f0;
            color: #475569;
            line-height: 1.6;
        }

        .concept-list li:last-child {
            border-bottom: none;
        }

        .concept-list strong {
            color: #1e293b;
            display: block;
            margin-bottom: 4px;
        }

        .example-box {
            background: white;
            border-left: 4px solid #a855f7;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .example-box strong {
            color: #a855f7;
            display: block;
            margin-bottom: 8px;
        }

        .practice-box {
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            border: 2px solid #a855f7;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .practice-box h4 {
            color: #7e22ce;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .practice-box p {
            color: #1e293b;
            line-height: 1.6;
        }

        .complete-btn {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            border: 2px solid #7e22ce;
        }

        .complete-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(168,85,247,0.3);
        }

        .complete-btn.completed {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-color: #047857;
        }

        .summary-card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #f3e8ff;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 1000;
            max-width: 400px;
            border: 3px solid #a855f7;
        }

        .achievement-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            pointer-events: all;
        }

        .achievement-icon {
            font-size: 64px;
            margin-bottom: 20px;
            animation: bounce 0.6s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .achievement-title {
            font-size: 24px;
            color: #1e293b;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .achievement-desc {
            color: #64748b;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .achievement-xp {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 20px;
            font-weight: 700;
            display: inline-block;
            border: 2px solid #7e22ce;
        }

        .close-achievement {
            margin-top: 20px;
            background: #f1f5f9;
            border: 2px solid #e2e8f0;
            color: #64748b;
            padding: 10px 24px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .close-achievement:hover {
            background: #e2e8f0;
            color: #475569;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 999;
        }

        .overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .back-link:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(-4px);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: #a855f7;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
            color: #475569;
            line-height: 1.5;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: #faf5ff;
        }

        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            .module-header {
                padding: 20px;
            }

            .lesson-card {
                padding: 20px;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="learning-hub.html" class="back-link">
            ‚Üê Back to Learning Hub
        </a>

        <div class="module-header">
            <div class="belt-badge">
                üü£ PURPLE BELT
            </div>
            <div class="stripe-indicator">
                <div class="stripe-dot"></div>
                <div class="stripe-dot inactive"></div>
                <div class="stripe-dot inactive"></div>
                <div class="stripe-dot inactive"></div>
            </div>
            <h1>Stripe 1: Commitment Foundations</h1>
            <p class="module-description">
                Master the foundations of genuine commitment. Learn the difference between compliance and buy-in, why clarity 
                beats certainty, how debate creates ownership, and cascading communication across your organization.
            </p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-value" id="xpDisplay">0</span>
                    <span class="stat-label">Total XP</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="lessonsDisplay">0/2</span>
                    <span class="stat-label">Lessons</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="badgesDisplay">0/1</span>
                    <span class="stat-label">Stripe</span>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p class="progress-text" id="progressText">0 of 2 lessons completed (2 coming soon)</p>
        </div>

        <div class="lessons-grid">
            <!-- Lesson 1: Commitment vs. Compliance -->
            <div class="lesson-card" id="lesson1">
                <div class="lesson-header">
                    <div class="lesson-number">LESSON 1</div>
                    <div class="lesson-status" id="status1">‚ö™</div>
                </div>
                <h2>Commitment vs. Compliance</h2>
                <p class="lesson-description">
                    Learn the critical difference between genuine commitment and surface compliance. Discover why compliance 
                    fails under pressure and how to recognize which one exists in your team.
                </p>

                <div class="lesson-content">
                    <div class="content-section">
                        <h3>üéØ The Critical Distinction</h3>
                        <p style="color: #475569; line-height: 1.6; margin-bottom: 15px;">
                            Most teams confuse compliance with commitment. They look similar on the surface: people nod in meetings, 
                            no one raises objections, action items get assigned, the decision "passes." But the difference emerges 
                            under pressure.
                        </p>
                        <table>
                            <tr>
                                <th>Compliance</th>
                                <th>Commitment</th>
                            </tr>
                            <tr>
                                <td>"I'll do what's required"</td>
                                <td>"I'll do what's needed"</td>
                            </tr>
                            <tr>
                                <td>Minimum effort</td>
                                <td>Full effort</td>
                            </tr>
                            <tr>
                                <td>Abandoned when difficult</td>
                                <td>Sustained through difficulty</td>
                            </tr>
                            <tr>
                                <td>External motivation (avoiding trouble)</td>
                                <td>Internal motivation (believing in outcome)</td>
                            </tr>
                            <tr>
                                <td>Quick to blame if it fails</td>
                                <td>Owns outcomes regardless</td>
                            </tr>
                            <tr>
                                <td>"They decided"</td>
                                <td>"We decided"</td>
                            </tr>
                        </table>
                    </div>

                    <div class="content-section">
                        <h3>üí° The Compliance Test</h3>
                        <p style="color: #475569; line-height: 1.6; margin-bottom: 15px;">
                            When execution gets hard‚Äîbudget cuts, competing priorities, unexpected obstacles‚Äîcompliance evaporates. 
                            People say:
                        </p>
                        <ul class="concept-list">
                            <li><strong>Compliance Response:</strong> "This was never realistic" or "I had concerns from the beginning" or "That wasn't really my decision"</li>
                            <li><strong>Commitment Response:</strong> "How do we adjust?" or "What else can we try?" or "We're in this together"</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>üõ†Ô∏è Why Compliance Happens</h3>
                        <ul class="concept-list">
                            <li>
                                <strong>1. Concerns weren't heard:</strong>
                                People didn't weigh in, so they can't buy in. If you don't feel heard in the decision process, 
                                you won't own the outcome.
                            </li>
                            <li>
                                <strong>2. Decision was unclear:</strong>
                                Ambiguity allows selective interpretation. People commit to their version of what was decided, 
                                not what was actually decided.
                            </li>
                            <li>
                                <strong>3. Stakes weren't understood:</strong>
                                People didn't know it mattered. "I thought this was just one option we were exploring."
                            </li>
                            <li>
                                <strong>4. Authority was absent:</strong>
                                No one owned the decision. Everyone thought someone else was driving it.
                            </li>
                            <li>
                                <strong>5. Commitment was assumed:</strong>
                                Silence was interpreted as agreement. "No one objected, so we assumed everyone was on board."
                            </li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>üìä Research Evidence</h3>
                        <div class="example-box">
                            <strong>Google's Project Aristotle:</strong>
                            Teams with high psychological safety show higher commitment to decisions because team members feel 
                            their input was genuinely considered. The belief that "my voice matters" precedes the willingness to 
                            fully commit.
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>ü•ã BJJ Analogy: Drilling vs. Hoping</h3>
                        <div class="example-box" style="background: #fef3c7; border-left-color: #f59e0b;">
                            <strong style="color: #92400e;">Compliance is like hoping a technique works without drilling it:</strong>
                            <p style="color: #78350f; margin: 0;">
                                You nod when your coach demonstrates a technique, but you don't actually drill it. When the opportunity 
                                shows up in sparring, you hesitate and fail because you never committed to learning it. Commitment means 
                                drilling until it's instinctive‚Äîputting in the full effort even when it's uncomfortable.
                            </p>
                        </div>
                    </div>

                    <div class="practice-box">
                        <h4>üéØ Practice Exercise:</h4>
                        <p>
                            Think of a recent team decision. Assess whether you have compliance or commitment by asking: 
                            "If execution became significantly harder, would people dig in or bail out?" If the answer is "bail out," 
                            you have compliance, not commitment.
                        </p>
                    </div>
                </div>

                <button class="complete-btn" onclick="completeLesson(1)" id="btn1">
                    Complete Lesson 1
                </button>
            </div>

            <!-- Lesson 2: Clarity Over Certainty -->
            <div class="lesson-card" id="lesson2">
                <div class="lesson-header">
                    <div class="lesson-number">LESSON 2</div>
                    <div class="lesson-status" id="status2">‚ö™</div>
                </div>
                <h2>Clarity Over Certainty</h2>
                <p class="lesson-description">
                    Understand why teams that wait for certainty never commit‚Äîand why clarity is enough. Learn how to 
                    move forward together even when the path isn't perfect.
                </p>

                <div class="lesson-content">
                    <div class="content-section">
                        <h3>üéØ The Certainty Trap</h3>
                        <p style="color: #475569; line-height: 1.6; margin-bottom: 15px;">
                            Most teams delay decisions waiting for certainty: "We need more data." "Let's wait and see." 
                            "Can we revisit this next quarter?" The truth: <strong>certainty is a mirage</strong>. By the time 
                            you have certainty, the opportunity has passed. Markets shifted. Competitors moved. Your team lost momentum.
                        </p>
                        <div class="example-box">
                            <strong>The Paradox:</strong>
                            The teams that commit fastest often succeed not because they had better information, but because they 
                            moved while others waited. Speed compounds. Delays compound too‚Äîin the opposite direction.
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>üí° Why Clarity Is Enough</h3>
                        <p style="color: #475569; line-height: 1.6; margin-bottom: 15px;">
                            Clarity doesn't mean you know everything will work. Clarity means you know:
                        </p>
                        <ul class="concept-list">
                            <li><strong>What we're doing:</strong> The decision is specific and unambiguous</li>
                            <li><strong>Why we're doing it:</strong> The rationale is understood</li>
                            <li><strong>What success looks like:</strong> We'll know if it's working</li>
                            <li><strong>Who's responsible:</strong> Ownership is clear</li>
                            <li><strong>When we'll revisit:</strong> There's a checkpoint to adjust</li>
                        </ul>
                        <p style="color: #475569; line-height: 1.6; margin-top: 15px;">
                            Notice what's missing: <em>Certainty that it will work.</em> You don't need that. You need clarity 
                            on the bet you're making and how you'll learn from it.
                        </p>
                    </div>

                    <div class="content-section">
                        <h3>üõ†Ô∏è The Clarity Framework</h3>
                        <table>
                            <tr>
                                <th>Element</th>
                                <th>Test Question</th>
                            </tr>
                            <tr>
                                <td><strong>Decision</strong></td>
                                <td>Can you state it in one sentence?</td>
                            </tr>
                            <tr>
                                <td><strong>Rationale</strong></td>
                                <td>Why this, why now?</td>
                            </tr>
                            <tr>
                                <td><strong>Success Metrics</strong></td>
                                <td>How will we measure it?</td>
                            </tr>
                            <tr>
                                <td><strong>Owner</strong></td>
                                <td>Who's driving execution?</td>
                            </tr>
                            <tr>
                                <td><strong>Checkpoint</strong></td>
                                <td>When do we reassess?</td>
                            </tr>
                        </table>
                        <p style="color: #475569; line-height: 1.6; margin-top: 15px;">
                            If your team can answer all five, you have clarity. If you can't, you're not ready to commit.
                        </p>
                    </div>

                    <div class="content-section">
                        <h3>üìä Research Evidence</h3>
                        <div class="example-box">
                            <strong>Jeff Bezos's "Type 1 vs Type 2 Decisions":</strong>
                            Bezos distinguishes between irreversible decisions (Type 1) that require extensive analysis, and 
                            reversible decisions (Type 2) that should be made quickly with ~70% of the information you wish you had. 
                            Most decisions are Type 2, yet teams treat them like Type 1‚Äîwaiting for certainty that will never come.
                        </div>
                        <div class="example-box" style="margin-top: 15px;">
                            <strong>McKinsey Study on Decision Velocity:</strong>
                            Organizations that make decisions faster (even with imperfect information) outperform slower, more 
                            deliberate competitors by 2:1 in revenue growth. The advantage isn't better decisions‚Äîit's learning faster.
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>‚ö†Ô∏è When Certainty-Seeking Becomes Avoidance</h3>
                        <p style="color: #475569; line-height: 1.6; margin-bottom: 15px;">
                            Sometimes "we need more data" is legitimate. But often, it's a socially acceptable way to avoid commitment:
                        </p>
                        <ul class="concept-list">
                            <li><strong>Fear of being wrong:</strong> "If we wait, maybe someone else will decide"</li>
                            <li><strong>Conflict avoidance:</strong> "Let's study it more" = "Let's not disagree today"</li>
                            <li><strong>Diffusion of responsibility:</strong> "The data will tell us" = "Then it's not our fault"</li>
                        </ul>
                        <p style="color: #475569; line-height: 1.6; margin-top: 15px;">
                            The real question: Are we seeking information or avoiding a decision?
                        </p>
                    </div>

                    <div class="content-section">
                        <h3>ü•ã BJJ Analogy: Committing to the Sweep</h3>
                        <div class="example-box" style="background: #fef3c7; border-left-color: #f59e0b;">
                            <strong style="color: #92400e;">You'll never have certainty the sweep will work:</strong>
                            <p style="color: #78350f; margin: 0;">
                                Your opponent is resisting. Variables are everywhere. But you don't wait for certainty‚Äîyou commit to 
                                the technique when you have enough information (their weight shifted, their base compromised). Full 
                                commitment to an 80% sweep beats half-hearted attempts at "perfect" timing. Clarity on the setup is 
                                enough. Certainty is impossible.
                            </p>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>üîÑ Disagree and Commit (Preview)</h3>
                        <p style="color: #475569; line-height: 1.6; margin-bottom: 15px;">
                            Clarity enables the most powerful commitment tool: <strong>disagree and commit</strong>. You don't have to 
                            agree with the decision. You just need clarity on what it is. Then you commit fully, even if you disagree. 
                            (More on this in Lesson 3.)
                        </p>
                    </div>

                    <div class="practice-box">
                        <h4>üéØ Practice Exercise:</h4>
                        <p>
                            Think of a decision your team is delaying. Apply the Clarity Framework: Can you answer all 5 questions? 
                            If yes, you're waiting for certainty you don't need. If no, you lack clarity‚Äîand <em>that's</em> what to fix.
                        </p>
                    </div>
                </div>

                <button class="complete-btn" onclick="completeLesson(2)" id="btn2">
                    Complete Lesson 2
                </button>
            </div>
        </div>

        <!-- Progress Summary -->
        <div class="summary-card">
            <h2 style="margin-bottom: 10px;">üìä Your Progress</h2>
            <p style="color: #64748b; margin-bottom: 20px;">Track your journey through Purple Belt Stripe 1</p>
            
            <div class="summary-stats">
                <div class="stat-card">
                    <span class="stat-value" id="summaryComplete">0/2</span>
                    <span class="stat-label">Lessons Available</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="summaryXP">0</span>
                    <span class="stat-label">XP Earned</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="summaryBadges">In Progress</span>
                    <span class="stat-label">Stripe Status</span>
                </div>
            </div>
            <p style="color: #64748b; text-align: center; margin-top: 15px; font-size: 14px;">
                ‚ö†Ô∏è Lessons 3-4 coming soon. Complete lessons 1-2 to earn partial credit.
            </p>
        </div>
    </div>

    <!-- Achievement Popup -->
    <div class="overlay" id="overlay" onclick="closeAchievement()"></div>
    <div class="achievement-popup" id="achievementPopup">
        <div class="achievement-icon">üéâ</div>
        <div class="achievement-title" id="achievementTitle">Lesson Complete!</div>
        <div class="achievement-desc" id="achievementDesc">You're making great progress</div>
        <div class="achievement-xp" id="achievementXP">+25 XP</div>
        <button class="close-achievement" onclick="closeAchievement()">Continue</button>
    </div>

    <script>
        const STORAGE_KEY = 'purplebeltStripe1Completed';
        const XP_KEY = 'purplebeltStripe1ModuleXP';
        const TOTAL_LESSONS = 2; // 2 lessons available now
        const XP_PER_LESSON = 25;

        // Load progress
        function loadProgress() {
            const completed = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            const moduleXP = parseInt(localStorage.getItem(XP_KEY) || '0');
            
            completed.forEach(lessonNum => {
                markLessonComplete(lessonNum);
            });
            
            updateAllStats();
        }

        // Mark lesson as visually complete
        function markLessonComplete(lessonNum) {
            const card = document.getElementById(`lesson${lessonNum}`);
            const status = document.getElementById(`status${lessonNum}`);
            const btn = document.getElementById(`btn${lessonNum}`);
            
            if (card && status && btn) {
                card.classList.add('completed');
                status.textContent = '‚úÖ';
                btn.textContent = '‚úì Completed';
                btn.classList.add('completed');
            }
        }

        // Complete a lesson
        function completeLesson(lessonNum) {
            let completed = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            let moduleXP = parseInt(localStorage.getItem(XP_KEY) || '0');
            
            if (completed.includes(lessonNum)) {
                showAchievement('Already Complete', 'You\'ve already completed this lesson', 'No XP');
                return;
            }
            
            // Add to completed
            completed.push(lessonNum);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(completed));
            
            // Add XP
            moduleXP += XP_PER_LESSON;
            localStorage.setItem(XP_KEY, moduleXP.toString());
            
            // Add to global XP
            let totalXP = parseInt(localStorage.getItem('totalXP') || '0');
            totalXP += XP_PER_LESSON;
            localStorage.setItem('totalXP', totalXP.toString());
            
            // Mark complete
            markLessonComplete(lessonNum);
            updateAllStats();
            
            showAchievement(`Lesson ${lessonNum} Complete!`, `Great work on mastering this concept`, `+${XP_PER_LESSON} XP`);
        }

        // Update all statistics
        function updateAllStats() {
            const completed = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            const moduleXP = parseInt(localStorage.getItem(XP_KEY) || '0');
            
            // Update header stats
            document.getElementById('xpDisplay').textContent = moduleXP;
            document.getElementById('lessonsDisplay').textContent = `${completed.length}/${TOTAL_LESSONS}`;
            document.getElementById('badgesDisplay').textContent = '0/1';
            
            // Update progress bar
            const progress = (completed.length / TOTAL_LESSONS) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `${completed.length} of ${TOTAL_LESSONS} lessons completed (2 coming soon)`;
            
            // Update summary stats
            document.getElementById('summaryComplete').textContent = `${completed.length}/${TOTAL_LESSONS}`;
            document.getElementById('summaryXP').textContent = moduleXP;
            document.getElementById('summaryBadges').textContent = 'In Progress';
        }

        // Show achievement popup
        function showAchievement(title, desc, xp) {
            document.getElementById('achievementTitle').textContent = title;
            document.getElementById('achievementDesc').textContent = desc;
            document.getElementById('achievementXP').textContent = xp;
            document.getElementById('achievementPopup').classList.add('show');
            document.getElementById('overlay').classList.add('show');
        }

        // Close achievement popup
        function closeAchievement() {
            document.getElementById('achievementPopup').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
        }

        // Initialize on page load
        loadProgress();
    </script>
</body>
</html>
