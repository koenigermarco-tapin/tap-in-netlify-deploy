<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Blue Belt Stripe 4: Boundaries | TAP-IN</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1a365d 0%, #7c3aed 100%);
            min-height: 100vh;
            padding: 2rem 1rem;
            line-height: 1.6;
        }
        .container { max-width: 800px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 2rem; color: white; }
        .stripe-badge { display: inline-block; background: rgba(255,255,255,0.2); padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.85rem; margin-bottom: 1rem; }
        .header h1 { font-size: 2rem; font-weight: 800; margin-bottom: 0.5rem; }
        .header p { font-size: 1.1rem; opacity: 0.9; }
        .progress-container { background: rgba(255,255,255,0.2); border-radius: 10px; padding: 1rem 1.5rem; margin-bottom: 2rem; }
        .progress-header { display: flex; justify-content: space-between; color: white; font-size: 0.9rem; margin-bottom: 0.5rem; }
        .progress-bar { background: rgba(255,255,255,0.3); height: 8px; border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: #f6e05e; border-radius: 4px; transition: width 0.5s ease; }
        .main-card { background: white; border-radius: 20px; padding: 2.5rem; box-shadow: 0 20px 60px rgba(0,0,0,0.15); }
        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .section-title { font-size: 1.5rem; font-weight: 700; color: #1e293b; margin-bottom: 1rem; }
        .section-subtitle { color: #64748b; margin-bottom: 1.5rem; }
        .intro-box { background: #f7fafc; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; }
        .intro-box h3 { color: #1e40af; font-size: 1.1rem; margin-bottom: 0.75rem; }
        .intro-box p { color: #1e293b; font-size: 0.95rem; margin-bottom: 0.75rem; line-height: 1.7; }
        .intro-box p:last-child { margin-bottom: 0; }
        .intro-box strong { color: #1e40af; }
        .intro-box.philosophy { background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); border-left: 6px solid var(--primary-navy); border-left: 6px solid #b91c1c; }
        .intro-box.philosophy h3 { color: #fff; }
        .intro-box.philosophy p { color: var(--text-dark); }
        .intro-box.philosophy strong { color: #fff; }
        .intro-box.philosophy em { color: var(--accent-purple); }
        .intro-box.research { background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); border-left: 6px solid var(--primary-navy); }
        .intro-box.research h3 { color: #fff; }
        .intro-box.research p { color: #e2e8f0; }
        .intro-box.research strong { color: #f6e05e; }
        .script-card { background: #f0fdf4; border: 2px solid #86efac; border-radius: 12px; padding: 1.5rem; margin-bottom: 1rem; }
        .script-card h4 { color: #166534; font-size: 1rem; margin-bottom: 0.75rem; }
        .script-example { background: white; padding: 1rem; border-radius: 8px; font-size: 0.9rem; color: #14532d; font-style: italic; }
        .reflection-box { background: #fffbeb; border: 2px solid #fcd34d; border-radius: 12px; padding: 1.5rem; margin: 1.5rem 0; }
        .reflection-box h3 { color: #92400e; font-size: 1rem; margin-bottom: 0.75rem; }
        .reflection-box p { color: #78350f; font-size: 0.95rem; margin-bottom: 1rem; }
        .reflection-textarea { width: 100%; min-height: 100px; padding: 1rem; border: 1px solid #fcd34d; border-radius: 8px; font-family: inherit; font-size: 0.95rem; resize: vertical; }
        .reflection-textarea:focus { outline: none; border-color: #f59e0b; }
        .nav-buttons { display: flex; justify-content: space-between; margin-top: 2rem; gap: 1rem; }
        .btn { padding: 1rem 2rem; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; border-left: 6px solid var(--primary-navy); text-decoration: none; }
        .btn-secondary { background: #edf2f7; color: #1e293b; }
        .btn-secondary:hover { background: #e2e8f0; }
        .btn-primary { background: linear-gradient(135deg, #1e40af 0%, #2563eb 100%); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(26, 54, 93, 0.3); }
        .btn-success { background: linear-gradient(135deg, #38a169 0%, #2f855a 100%); color: white; }
        .btn-success:hover { transform: translateY(-2px); }
        .belt-earned { background: linear-gradient(135deg, #1a365d 0%, #7c3aed 100%); border-radius: 16px; padding: 2.5rem; color: white; text-align: center; margin-bottom: 1.5rem; }
        .belt-earned h2 { font-size: 1.75rem; margin-bottom: 0.5rem; }
        .belt-visual { font-size: 4rem; margin: 1rem 0; }
        .quote-block { background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); border-radius: 12px; padding: 1.5rem; text-align: center; margin: 1.5rem 0; }
        .quote-block .quote { font-size: 1.1rem; color: white; font-style: italic; margin-bottom: 0.75rem; }
        .quote-block .author { color: #f6e05e; font-weight: 600; font-size: 0.9rem; }
        .next-preview { background: linear-gradient(135deg, #581c87 0%, #7e22ce 100%); border-radius: 16px; padding: 1.5rem; color: white; margin: 1.5rem 0; }
        .next-preview h3 { margin-bottom: 0.75rem; }
        .next-preview p { opacity: 0.9; font-size: 0.95rem; }
        @media (max-width: 768px) { body { padding: 1rem; } .main-card { padding: 1.5rem; } .nav-buttons { flex-direction: column; } .btn { width: 100%; text-align: center; } }
    
        /* ============= NUMBERED OPTION BOX READABILITY FIX ============= */
        .scale-option,
        .rating-option,
        .numbered-option,
        .option-number,
        [data-value="1"],
        [data-value="2"],
        [data-value="3"],
        [data-value="4"],
        [data-value="5"] {
            color: #FFFFFF !important;
            font-weight: 700 !important;
            font-size: 1.1rem !important;
            background: #1e293b !important;
            border: 2px solid #475569 !important;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5) !important;
        }
        .scale-option:hover,
        .rating-option:hover,
        .numbered-option:hover,
        .option-number:hover,
        [data-value]:hover {
            background: #334155 !important;
            border-color: #667eea !important;
            color: #FFFFFF !important;
            transform: scale(1.05) !important;
        }
        .scale-option.selected,
        .rating-option.selected,
        .numbered-option.selected,
        .option-number.selected,
        [data-value].selected {
            background: #667eea !important;
            border-color: #818cf8 !important;
            color: #FFFFFF !important;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3) !important;
        }
        .scale-label,
        .rating-label,
        .option-label {
            color: #FFFFFF !important;
            font-weight: 600 !important;
            font-size: 0.9rem !important;
            text-align: center !important;
            margin-top: 0.5rem !important;
        }
        .scale-container,
        .rating-container,
        .options-row {
            display: flex !important;
            justify-content: space-between !important;
            gap: 0.75rem !important;
            margin: 1.5rem 0 !important;
        }
        .scale-container > *,
        .rating-container > *,
        .options-row > * {
            flex: 1 !important;
            min-width: 60px !important;
            text-align: center !important;
            padding: 1rem 0.5rem !important;
            border-radius: 8px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
        }
        @media (max-width: 768px) {
            .scale-option,
            .rating-option,
            .numbered-option,
            .option-number,
            [data-value] {
                font-size: 1rem !important;
                padding: 0.75rem 0.25rem !important;
                min-width: 50px !important;
            }
            .scale-label,
            .rating-label,
            .option-label {
                font-size: 0.75rem !important;
            }
        }
        input[type="range"] {
            -webkit-appearance: none !important;
            width: 100% !important;
            height: 8px !important;
            background: #334155 !important;
            border-radius: 5px !important;
            outline: none !important;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none !important;
            width: 24px !important;
            height: 24px !important;
            background: #667eea !important;
            cursor: pointer !important;
            border-radius: 50% !important;
            border: 3px solid #FFFFFF !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3) !important;
        }
        input[type="range"]::-moz-range-thumb {
            width: 24px !important;
            height: 24px !important;
            background: #667eea !important;
            cursor: pointer !important;
            border-radius: 50% !important;
            border: 3px solid #FFFFFF !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3) !important;
        }
        .slider-value,
        .range-value {
            display: block !important;
            text-align: center !important;
            font-size: 1.5rem !important;
            font-weight: 700 !important;
            color: #667eea !important;
            margin-top: 1rem !important;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2) !important;
        }
        .slider-labels {
            display: flex !important;
            justify-content: space-between !important;
            margin-top: 0.5rem !important;
        }
        .slider-labels span {
            font-size: 0.85rem !important;
            color: #cbd5e1 !important;
            font-weight: 600 !important;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="stripe-badge">üíô Blue Belt ‚Ä¢ Stripe 4 of 4 (Final!)</div>
            <h1>Boundaries</h1>
            <p>Saying No Without Guilt</p>
        </div>
        <div class="progress-container">
            <div class="progress-header"><span>Progress</span><span id="progress-text">0%</span></div>
            <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
        </div>
        <div class="main-card">
            <!-- Section 1 -->
            <div class="section active" id="section-1">
                <h2 class="section-title">üöß Why Boundaries Are Hard</h2>
                <p class="section-subtitle">Saying no feels selfish. It isn't.</p>
                <div class="intro-box">
                    <h3>The People-Pleaser Trap</h3>
                    <p>You say yes when you mean no. You overcommit. You resent the people you're trying to help. You burn out being "nice."</p>
                    <p><strong>This isn't generosity. It's self-abandonment.</strong></p>
                </div>
                <div class="intro-box philosophy">
                    <h3>ü•ã The BJJ Principle: Guard Your Space</h3>
                    <p>In Jiu-Jitsu, if you don't maintain your frames, you get passed and submitted. Your space is sacred. <strong>Defending it isn't aggression‚Äîit's survival.</strong></p>
                    <p><em>"Daring to set boundaries is about having the courage to love ourselves, even when we risk disappointing others."</em> ‚Äî Bren√© Brown</p>
                </div>
                <div class="intro-box research">
                    <h3>üìä The Research</h3>
                    <p><strong>Bren√© Brown's research</strong> found that the most compassionate people were also the most boundaried. <strong>Boundaries increase connection</strong>‚Äîwhen you're clear about limits, people trust you more.</p>
                </div>
                
        <!-- QUIZ SECTION -->
        <div class="progress-section" style="margin-top: 60px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border: 3px solid #2563eb;">
            <h2 style="color: #1e40af; margin-bottom: 20px; font-size: 28px;">üìù Stripe Knowledge Check</h2>
            <p style="color: #1e40af; margin-bottom: 30px; font-size: 16px;">
                Answer all questions to complete this stripe and earn your bonus XP!
            </p>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    1. Cross-cultural conflict requires understanding:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Everyone should adapt to your culture</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Different cultures have different conflict norms</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Conflict is universal</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Only language barriers matter</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    2. In remote teams, conflict should be handled:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Always via text/email</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Move to video when possible for nuance</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Avoid conflict entirely</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Wait for in-person meetings</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    3. When conflict goes wrong, the best approach is:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Pretend it didn't happen</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Revisit and repair explicitly</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Wait for time to heal it</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Blame the other person</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    4. The bridge from conflict to commitment requires:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Everyone agreeing</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Full debate followed by explicit commitment question</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Voting on decisions</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Leadership decree</span>
                    </label>

                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button onclick="submitQuiz(8)" class="btn btn-primary" style="padding: 18px 40px; font-size: 18px;">
                    Submit Quiz & Complete Stripe <span class="xp-badge">+100 XP Bonus</span>
                </button>
                <p id="quizFeedback" style="margin-top: 20px; font-size: 16px; font-weight: 600;"></p>
            </div>
        </div>

        <script>
        function submitQuiz(stripeNum) {
            const totalQuestions = 4;
            let answered = 0;
            let correct = 0;
            
            for (let i = 1; i <= totalQuestions; i++) {
                const selected = document.querySelector('input[name="quiz_q' + i + '"]:checked');
                if (selected) {
                    answered++;
                    if (selected.dataset.correct === "true") {
                        correct++;
                    }
                }
            }
            
            if (answered < totalQuestions) {
                alert('Please answer all ' + totalQuestions + ' questions before submitting!');
                return;
            }
            
            const percentage = Math.round((correct / totalQuestions) * 100);
            const passed = percentage >= 70;
            
            if (passed) {
                // Award bonus XP
                let xp = parseInt(localStorage.getItem('whitebeltStripe' + stripeNum + 'ModuleXP') || '0');
                xp += 100;
                localStorage.setItem('whitebeltStripe' + stripeNum + 'ModuleXP', xp);
                
                alert('‚úì Quiz Passed!\n\nScore: ' + correct + '/' + totalQuestions + ' (' + percentage + '%)\n+100 XP Bonus Earned!\n\nStripe ' + stripeNum + ' Complete!');
                
                // Navigate to next stripe or back to hub
                const nextStripe = stripeNum + 1;
                if (nextStripe <= 4) {
                    if (confirm('Continue to Stripe ' + nextStripe + '?')) {
                        window.location.href = 'white-belt-stripe' + nextStripe + '-gamified.html';
                    } else {
                        window.location.href = 'learning-hub.html';
                    }
                } else {
                    const goToPurple = confirm('üéâ Blue Belt Complete!\n\nReady to start Purple Belt now?\n\n(OK = Purple Belt, Cancel = Hub)');
                    window.location.href = goToPurple ? 'purple-belt.html' : 'learning-hub.html';
                }
            } else {
                document.getElementById('quizFeedback').innerHTML = 
                    '<span style="color: #dc2626;">Score: ' + correct + '/' + totalQuestions + ' (' + percentage + '%) - Need 70% to pass. Review lessons and try again!</span>';
            }
        }
        </script>

        <div class="nav-buttons">
                    <a href="blue-belt.html" class="btn btn-secondary">‚Üê Back to Hub</a>
                    <button class="btn btn-primary" onclick="nextSection()">How to Say No ‚Üí</button>
                </div>
            </div>
            <!-- Section 2 -->
            <div class="section" id="section-2">
                <h2 class="section-title">üó£Ô∏è Scripts for Saying No</h2>
                <p class="section-subtitle">You can be kind AND clear.</p>
                <div class="script-card">
                    <h4>The Simple No</h4>
                    <div class="script-example">"Thanks for thinking of me. I can't take this on right now."</div>
                </div>
                <div class="script-card">
                    <h4>The Boundary No</h4>
                    <div class="script-example">"I've committed to protecting my evenings for family. Let's find another time."</div>
                </div>
                <div class="script-card">
                    <h4>The Redirect No</h4>
                    <div class="script-example">"I can't do X, but I could help with Y instead. Would that work?"</div>
                </div>
                <div class="script-card">
                    <h4>The Delay No</h4>
                    <div class="script-example">"Let me check my commitments and get back to you tomorrow."</div>
                </div>
                <div class="intro-box philosophy">
                    <h3>ü•ã No Explanation Required</h3>
                    <p>You don't owe anyone a detailed justification. <strong>"No" is a complete sentence.</strong> Over-explaining invites negotiation.</p>
                </div>
                
        <!-- QUIZ SECTION -->
        <div class="progress-section" style="margin-top: 60px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border: 3px solid #2563eb;">
            <h2 style="color: #1e40af; margin-bottom: 20px; font-size: 28px;">üìù Stripe Knowledge Check</h2>
            <p style="color: #1e40af; margin-bottom: 30px; font-size: 16px;">
                Answer all questions to complete this stripe and earn your bonus XP!
            </p>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    1. Cross-cultural conflict requires understanding:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Everyone should adapt to your culture</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Different cultures have different conflict norms</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Conflict is universal</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Only language barriers matter</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    2. In remote teams, conflict should be handled:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Always via text/email</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Move to video when possible for nuance</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Avoid conflict entirely</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Wait for in-person meetings</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    3. When conflict goes wrong, the best approach is:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Pretend it didn't happen</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Revisit and repair explicitly</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Wait for time to heal it</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Blame the other person</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    4. The bridge from conflict to commitment requires:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Everyone agreeing</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Full debate followed by explicit commitment question</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Voting on decisions</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Leadership decree</span>
                    </label>

                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button onclick="submitQuiz(8)" class="btn btn-primary" style="padding: 18px 40px; font-size: 18px;">
                    Submit Quiz & Complete Stripe <span class="xp-badge">+100 XP Bonus</span>
                </button>
                <p id="quizFeedback" style="margin-top: 20px; font-size: 16px; font-weight: 600;"></p>
            </div>
        </div>

        <script>
        function submitQuiz(stripeNum) {
            const totalQuestions = 4;
            let answered = 0;
            let correct = 0;
            
            for (let i = 1; i <= totalQuestions; i++) {
                const selected = document.querySelector('input[name="quiz_q' + i + '"]:checked');
                if (selected) {
                    answered++;
                    if (selected.dataset.correct === "true") {
                        correct++;
                    }
                }
            }
            
            if (answered < totalQuestions) {
                alert('Please answer all ' + totalQuestions + ' questions before submitting!');
                return;
            }
            
            const percentage = Math.round((correct / totalQuestions) * 100);
            const passed = percentage >= 70;
            
            if (passed) {
                // Award bonus XP
                let xp = parseInt(localStorage.getItem('whitebeltStripe' + stripeNum + 'ModuleXP') || '0');
                xp += 100;
                localStorage.setItem('whitebeltStripe' + stripeNum + 'ModuleXP', xp);
                
                alert('‚úì Quiz Passed!\n\nScore: ' + correct + '/' + totalQuestions + ' (' + percentage + '%)\n+100 XP Bonus Earned!\n\nStripe ' + stripeNum + ' Complete!');
                
                // Navigate to next stripe or back to hub
                const nextStripe = stripeNum + 1;
                if (nextStripe <= 4) {
                    if (confirm('Continue to Stripe ' + nextStripe + '?')) {
                        window.location.href = 'white-belt-stripe' + nextStripe + '-gamified.html';
                    } else {
                        window.location.href = 'learning-hub.html';
                    }
                } else {
                    const goToPurple = confirm('üéâ Blue Belt Complete!\n\nReady to start Purple Belt now?\n\n(OK = Purple Belt, Cancel = Hub)');
                    window.location.href = goToPurple ? 'purple-belt.html' : 'learning-hub.html';
                }
            } else {
                document.getElementById('quizFeedback').innerHTML = 
                    '<span style="color: #dc2626;">Score: ' + correct + '/' + totalQuestions + ' (' + percentage + '%) - Need 70% to pass. Review lessons and try again!</span>';
            }
        }
        </script>

        <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevSection()">‚Üê Back</button>
                    <button class="btn btn-primary" onclick="nextSection()">Practice ‚Üí</button>
                </div>
            </div>
            <!-- Section 3 -->
            <div class="section" id="section-3">
                <h2 class="section-title">‚úçÔ∏è Your Boundary Work</h2>
                <p class="section-subtitle">Where do you need to draw a line?</p>
                <div class="reflection-box">
                    <h3>üìù The Boundary You Need to Set</h3>
                    <p>What's one boundary you've been avoiding? Who with? What would you say?</p>
                    <textarea class="reflection-textarea" id="boundary-needed" placeholder="I need to set a boundary with [person] about [situation]. I will say..."></textarea>
                </div>
                <div class="reflection-box">
                    <h3>üìù What Holding This Costs You</h3>
                    <p>What does NOT setting this boundary cost you? Energy? Time? Resentment? Peace?</p>
                    <textarea class="reflection-textarea" id="boundary-cost" placeholder="By not setting this boundary, I'm losing..."></textarea>
                </div>
                <div class="quote-block">
                    <p class="quote">"When we fail to set boundaries, we let our worst resentment leak out in passive-aggressive ways."</p>
                    <p class="author">‚Äî Bren√© Brown</p>
                </div>
                
        <!-- QUIZ SECTION -->
        <div class="progress-section" style="margin-top: 60px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border: 3px solid #2563eb;">
            <h2 style="color: #1e40af; margin-bottom: 20px; font-size: 28px;">üìù Stripe Knowledge Check</h2>
            <p style="color: #1e40af; margin-bottom: 30px; font-size: 16px;">
                Answer all questions to complete this stripe and earn your bonus XP!
            </p>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    1. Cross-cultural conflict requires understanding:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Everyone should adapt to your culture</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Different cultures have different conflict norms</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Conflict is universal</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Only language barriers matter</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    2. In remote teams, conflict should be handled:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Always via text/email</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Move to video when possible for nuance</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Avoid conflict entirely</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Wait for in-person meetings</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    3. When conflict goes wrong, the best approach is:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Pretend it didn't happen</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Revisit and repair explicitly</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Wait for time to heal it</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Blame the other person</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    4. The bridge from conflict to commitment requires:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Everyone agreeing</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Full debate followed by explicit commitment question</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Voting on decisions</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Leadership decree</span>
                    </label>

                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button onclick="submitQuiz(8)" class="btn btn-primary" style="padding: 18px 40px; font-size: 18px;">
                    Submit Quiz & Complete Stripe <span class="xp-badge">+100 XP Bonus</span>
                </button>
                <p id="quizFeedback" style="margin-top: 20px; font-size: 16px; font-weight: 600;"></p>
            </div>
        </div>

        <script>
        function submitQuiz(stripeNum) {
            const totalQuestions = 4;
            let answered = 0;
            let correct = 0;
            
            for (let i = 1; i <= totalQuestions; i++) {
                const selected = document.querySelector('input[name="quiz_q' + i + '"]:checked');
                if (selected) {
                    answered++;
                    if (selected.dataset.correct === "true") {
                        correct++;
                    }
                }
            }
            
            if (answered < totalQuestions) {
                alert('Please answer all ' + totalQuestions + ' questions before submitting!');
                return;
            }
            
            const percentage = Math.round((correct / totalQuestions) * 100);
            const passed = percentage >= 70;
            
            if (passed) {
                // Award bonus XP
                let xp = parseInt(localStorage.getItem('whitebeltStripe' + stripeNum + 'ModuleXP') || '0');
                xp += 100;
                localStorage.setItem('whitebeltStripe' + stripeNum + 'ModuleXP', xp);
                
                alert('‚úì Quiz Passed!\n\nScore: ' + correct + '/' + totalQuestions + ' (' + percentage + '%)\n+100 XP Bonus Earned!\n\nStripe ' + stripeNum + ' Complete!');
                
                // Navigate to next stripe or back to hub
                const nextStripe = stripeNum + 1;
                if (nextStripe <= 4) {
                    if (confirm('Continue to Stripe ' + nextStripe + '?')) {
                        window.location.href = 'white-belt-stripe' + nextStripe + '-gamified.html';
                    } else {
                        window.location.href = 'learning-hub.html';
                    }
                } else {
                    const goToPurple = confirm('üéâ Blue Belt Complete!\n\nReady to start Purple Belt now?\n\n(OK = Purple Belt, Cancel = Hub)');
                    window.location.href = goToPurple ? 'purple-belt.html' : 'learning-hub.html';
                }
            } else {
                document.getElementById('quizFeedback').innerHTML = 
                    '<span style="color: #dc2626;">Score: ' + correct + '/' + totalQuestions + ' (' + percentage + '%) - Need 70% to pass. Review lessons and try again!</span>';
            }
        }
        </script>

        <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevSection()">‚Üê Back</button>
                    <button class="btn btn-primary" onclick="showResults()">Complete Blue Belt ‚Üí</button>
                </div>
            </div>
            <!-- Section 4: Results -->
            <div class="section" id="section-4">
                <div class="belt-earned">
                    <h2>üéâ BLUE BELT COMPLETE!</h2>
                    <div class="belt-visual">üíô</div>
                    <p>You've completed all 4 stripes and earned your Blue Belt.</p>
                </div>
                <div class="intro-box">
                    <h3>üìã Your Blue Belt Skills</h3>
                    <ul style="margin: 1rem 0 0 1.5rem; color: #1e293b;">
                        <li style="margin-bottom: 0.5rem;"><strong>Stripe 1:</strong> Difficult Conversations ‚Äî STATE Framework</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Stripe 2:</strong> Active Listening ‚Äî 3 Levels of Listening</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Stripe 3:</strong> Feedback Systems ‚Äî Radical Candor</li>
                        <li><strong>Stripe 4:</strong> Boundaries ‚Äî Saying No Without Guilt</li>
                    </ul>
                </div>
                <div class="intro-box philosophy">
                    <h3>ü•ã The Blue Belt Reality</h3>
                    <p>Blue Belt is where most people quit. You didn't. You learned the hardest communication skills‚Äîthe ones that actually matter.</p>
                    <p><strong>Now use them.</strong> Have the conversation. Listen deeply. Give honest feedback. Set the boundary.</p>
                </div>
                <div class="next-preview">
                    <h3>üü£ Next: Purple Belt ‚Äî Team Alignment</h3>
                    <p>You've mastered personal communication. Purple Belt teaches you to align teams: shared goals, healthy conflict, collective accountability.</p>
                </div>
                <div class="quote-block">
                    <p class="quote">"A black belt is just a white belt who never quit."</p>
                    <p class="author">‚Äî Brazilian Jiu-Jitsu Proverb</p>
                </div>
                
        <!-- QUIZ SECTION -->
        <div class="progress-section" style="margin-top: 60px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border: 3px solid #2563eb;">
            <h2 style="color: #1e40af; margin-bottom: 20px; font-size: 28px;">üìù Stripe Knowledge Check</h2>
            <p style="color: #1e40af; margin-bottom: 30px; font-size: 16px;">
                Answer all questions to complete this stripe and earn your bonus XP!
            </p>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    1. Cross-cultural conflict requires understanding:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Everyone should adapt to your culture</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Different cultures have different conflict norms</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Conflict is universal</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q1" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Only language barriers matter</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    2. In remote teams, conflict should be handled:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Always via text/email</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Move to video when possible for nuance</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Avoid conflict entirely</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q2" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Wait for in-person meetings</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    3. When conflict goes wrong, the best approach is:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Pretend it didn't happen</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Revisit and repair explicitly</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Wait for time to heal it</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q3" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Blame the other person</span>
                    </label>

                </div>
            </div>

            <div style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 2px solid #cbd5e1;">
                <p style="font-size: 18px; font-weight: 600; color: #1a365d; margin-bottom: 15px;">
                    4. The bridge from conflict to commitment requires:
                </p>
                <div style="display: flex; flex-direction: column; gap: 12px;">

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="0"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Everyone agreeing</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="1" data-correct="true" style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Full debate followed by explicit commitment question</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="2"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Voting on decisions</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s;" class="quiz-option">
                        <input type="radio" name="quiz_q4" value="3"  style="width: 20px; height: 20px;">
                        <span style="color: #475569; font-size: 16px;">Leadership decree</span>
                    </label>

                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button onclick="submitQuiz(8)" class="btn btn-primary" style="padding: 18px 40px; font-size: 18px;">
                    Submit Quiz & Complete Stripe <span class="xp-badge">+100 XP Bonus</span>
                </button>
                <p id="quizFeedback" style="margin-top: 20px; font-size: 16px; font-weight: 600;"></p>
            </div>
        </div>

        <script>
        function submitQuiz(stripeNum) {
            const totalQuestions = 4;
            let answered = 0;
            let correct = 0;
            
            for (let i = 1; i <= totalQuestions; i++) {
                const selected = document.querySelector('input[name="quiz_q' + i + '"]:checked');
                if (selected) {
                    answered++;
                    if (selected.dataset.correct === "true") {
                        correct++;
                    }
                }
            }
            
            if (answered < totalQuestions) {
                alert('Please answer all ' + totalQuestions + ' questions before submitting!');
                return;
            }
            
            const percentage = Math.round((correct / totalQuestions) * 100);
            const passed = percentage >= 70;
            
            if (passed) {
                // Award bonus XP
                let xp = parseInt(localStorage.getItem('whitebeltStripe' + stripeNum + 'ModuleXP') || '0');
                xp += 100;
                localStorage.setItem('whitebeltStripe' + stripeNum + 'ModuleXP', xp);
                
                alert('‚úì Quiz Passed!\n\nScore: ' + correct + '/' + totalQuestions + ' (' + percentage + '%)\n+100 XP Bonus Earned!\n\nStripe ' + stripeNum + ' Complete!');
                
                // Navigate to next stripe or back to hub
                const nextStripe = stripeNum + 1;
                if (nextStripe <= 4) {
                    if (confirm('Continue to Stripe ' + nextStripe + '?')) {
                        window.location.href = 'white-belt-stripe' + nextStripe + '-gamified.html';
                    } else {
                        window.location.href = 'learning-hub.html';
                    }
                } else {
                    const goToPurple = confirm('üéâ Blue Belt Complete!\n\nReady to start Purple Belt now?\n\n(OK = Purple Belt, Cancel = Hub)');
                    window.location.href = goToPurple ? 'purple-belt.html' : 'learning-hub.html';
                }
            } else {
                document.getElementById('quizFeedback').innerHTML = 
                    '<span style="color: #dc2626;">Score: ' + correct + '/' + totalQuestions + ' (' + percentage + '%) - Need 70% to pass. Review lessons and try again!</span>';
            }
        }
        </script>

        <div class="nav-buttons">
                    <a href="blue-belt.html" class="btn btn-secondary">‚Üê Back to Blue Belt</a>
                    <a href="purple-belt.html" class="btn btn-success">Start Purple Belt ‚Üí</a>
                </div>
            </div>
        </div>
    </div>
    <script>
        let currentSection = 1;
        const totalSections = 4;
        function nextSection() {
            if (currentSection < totalSections) {
                document.getElementById(`section-${currentSection}`).classList.remove('active');
                currentSection++;
                document.getElementById(`section-${currentSection}`).classList.add('active');
                updateProgress();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }
        function prevSection() {
            if (currentSection > 1) {
                document.getElementById(`section-${currentSection}`).classList.remove('active');
                currentSection--;
                document.getElementById(`section-${currentSection}`).classList.add('active');
                updateProgress();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }
        function updateProgress() {
            const progress = ((currentSection - 1) / (totalSections - 1)) * 100;
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `${Math.round(progress)}%`;
        }
        function showResults() {
            localStorage.setItem('blueBeltStripe4Complete', 'true');
            localStorage.setItem('blueBeltComplete', 'true');
            const fields = ['boundary-needed', 'boundary-cost'];
            fields.forEach(field => {
                const el = document.getElementById(field);
                if (el && el.value) localStorage.setItem(`boundaries_${field}`, el.value);
            });
            nextSection();
        }
        updateProgress();
    </script>
    <!-- Gamification System -->
    <!-- Performance Optimizer - Load First -->
<script src="js/performance-optimizer.js"></script>

    <script src="js/gamification.js" defer></script>
    <script src="js/stripe-completion-helper.js" defer></script>
<!-- TAP-IN Utilities -->
<script src="js/shared-utilities.js"></script>
<script src="js/global-error-handler.js"></script>
<script src="js/storage-health.js"></script>
</body>
</html>
