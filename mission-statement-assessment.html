<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Mission Statement Builder - TAP-IN Purple Belt</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #9333ea 0%, #7e22ce 50%, #6b21a8 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            padding: 40px 20px 30px;
        }

        .header h1 {
            font-size: clamp(2em, 5vw, 2.8em);
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: clamp(1em, 2.5vw, 1.3em);
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto 10px;
        }

        .header .belt-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            backdrop-filter: blur(10px);
        }

        /* Screen Container */
        .screen {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: fadeIn 0.4s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Intro Screen */
        .intro-content h2 {
            color: #7e22ce;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .intro-content p {
            color: #64748b;
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .intro-content .info-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-left: 4px solid #7e22ce;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
        }

        .intro-content .info-box h3 {
            color: #7e22ce;
            margin-bottom: 10px;
        }

        .intro-content .info-box p {
            color: #475569;
            font-size: 1em;
            margin-bottom: 10px;
        }

        .intro-content .steps {
            display: grid;
            gap: 15px;
            margin: 25px 0;
        }

        .step-item {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #9333ea;
        }

        .step-item h4 {
            color: #1e293b;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .step-item p {
            color: #64748b;
            margin: 0;
            font-size: 0.95em;
        }

        /* Step Screen */
        .step-content h2 {
            color: #7e22ce;
            font-size: 1.8em;
            margin-bottom: 15px;
        }

        .step-content .instruction {
            color: #64748b;
            font-size: 1.1em;
            line-height: 1.7;
            margin-bottom: 25px;
        }

        .prompt-section {
            background: #f8fafc;
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
        }

        .prompt-section h3 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .prompt-list {
            list-style: none;
            padding: 0;
        }

        .prompt-list li {
            padding: 12px 0;
            color: #475569;
            font-size: 1em;
            line-height: 1.6;
            border-bottom: 1px solid #e2e8f0;
        }

        .prompt-list li:last-child {
            border-bottom: none;
        }

        .prompt-list li:before {
            content: "üí≠";
            margin-right: 10px;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-family: inherit;
            font-size: 1em;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #9333ea;
        }

        textarea.large {
            min-height: 200px;
        }

        .example {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-style: italic;
            color: #78350f;
        }

        /* Results Screen */
        .results-content {
            text-align: center;
        }

        .results-content h2 {
            color: #7e22ce;
            font-size: 2.2em;
            margin-bottom: 20px;
        }

        .mission-display {
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            padding: 35px;
            border-radius: 15px;
            margin: 30px 0;
            border: 3px solid #9333ea;
            position: relative;
        }

        .mission-display:before {
            content: "üß≠";
            font-size: 3em;
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 20px rgba(147,51,234,0.3);
        }

        .mission-text {
            color: #1e293b;
            font-size: 1.4em;
            line-height: 1.8;
            font-weight: 500;
            margin-top: 20px;
            font-style: italic;
        }

        .reflection-section {
            text-align: left;
            margin: 30px 0;
        }

        .reflection-section h3 {
            color: #7e22ce;
            margin-bottom: 15px;
        }

        .reflection-item {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #9333ea;
        }

        .reflection-item h4 {
            color: #1e293b;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .reflection-item p {
            color: #64748b;
            line-height: 1.7;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .insight-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
        }

        .insight-card:hover {
            border-color: #9333ea;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(147,51,234,0.2);
        }

        .insight-card h4 {
            color: #7e22ce;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .insight-card p {
            color: #64748b;
            font-size: 0.9em;
            line-height: 1.6;
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            margin: 30px 0 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #9333ea 0%, #7e22ce 100%);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .progress-text {
            text-align: center;
            color: #64748b;
            font-size: 0.9em;
            margin-top: 8px;
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        button, .btn {
            padding: 15px 35px;
            font-size: 1.1em;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(135deg, #9333ea 0%, #7e22ce 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(147,51,234,0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(147,51,234,0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: white;
            color: #7e22ce;
            border: 2px solid #7e22ce;
        }

        .btn-secondary:hover {
            background: #faf5ff;
        }

        .btn-outline {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-outline:hover {
            background: rgba(255,255,255,0.1);
        }

        /* Character Counter */
        .char-counter {
            text-align: right;
            color: #94a3b8;
            font-size: 0.85em;
            margin-top: 5px;
        }

        .char-counter.warning {
            color: #f59e0b;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }

            .screen {
                padding: 25px 20px;
            }

            .button-group {
                flex-direction: column;
            }

            button, .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß≠ Personal Mission Statement Builder</h1>
            <p class="subtitle">Define what you're here to do and what guides your biggest decisions</p>
            <div class="belt-badge">üü£ Purple Belt: Lack of Commitment</div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">Step 0 of 5</div>

        <!-- Intro Screen -->
        <div class="screen active" id="screen-intro">
            <div class="intro-content">
                <h2>Welcome to Your Mission Statement Builder</h2>
                <p>Your personal mission statement is your North Star‚Äîa clear declaration of who you are, what you stand for, and what you're here to contribute to the world.</p>
                
                <div class="info-box">
                    <h3>‚è±Ô∏è Time: 20-30 minutes</h3>
                    <p>This is deep reflection work. Take your time. There are no right or wrong answers‚Äîonly YOUR answers.</p>
                </div>

                <div class="steps">
                    <div class="step-item">
                        <h4>Step 1: Core Values & Strengths</h4>
                        <p>Identify what matters most to you and what you do exceptionally well</p>
                    </div>
                    <div class="step-item">
                        <h4>Step 2: Impact & Contribution</h4>
                        <p>Explore how you want to make a difference and who you serve</p>
                    </div>
                    <div class="step-item">
                        <h4>Step 3: Vision & Future</h4>
                        <p>Define the legacy you want to leave and who you're becoming</p>
                    </div>
                    <div class="step-item">
                        <h4>Step 4: Mission Draft</h4>
                        <p>Synthesize your reflections into a clear, compelling statement</p>
                    </div>
                    <div class="step-item">
                        <h4>Step 5: Refinement</h4>
                        <p>Polish your mission statement until it resonates deeply</p>
                    </div>
                </div>

                <div class="info-box" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-left-color: #f59e0b;">
                    <h3>üí° Why This Matters for Commitment</h3>
                    <p>Teams struggle with commitment when individuals lack clarity about their personal direction. When you know your mission, you can evaluate opportunities and decisions against it‚Äîsaying "yes" with conviction and "no" without guilt.</p>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="startAssessment()">Begin Mission Builder ‚Üí</button>
                    <a href="purple-belt.html" class="btn-secondary">‚Üê Back to Purple Belt</a>
                </div>
            </div>
        </div>

        <!-- Step 1: Core Values & Strengths -->
        <div class="screen" id="screen-step1">
            <div class="step-content">
                <h2>Step 1: Core Values & Strengths</h2>
                <p class="instruction">Let's start by identifying what matters most to you and what you do exceptionally well.</p>

                <div class="prompt-section">
                    <h3>Reflect on these questions:</h3>
                    <ul class="prompt-list">
                        <li>What values are non-negotiable in your life? (integrity, growth, connection, creativity, etc.)</li>
                        <li>What do people consistently come to you for help with?</li>
                        <li>When do you feel most alive, energized, and in flow?</li>
                        <li>What would you stand up for, even if it cost you something?</li>
                        <li>What unique strengths or perspectives do you bring to situations?</li>
                    </ul>
                </div>

                <label for="values-response" style="display: block; color: #1e293b; font-weight: 600; margin-bottom: 10px;">
                    Your Reflections on Values & Strengths:
                </label>
                <textarea id="values-response" placeholder="Write freely about your core values and natural strengths. What lights you up? What do you stand for? What are you exceptional at?

Example: 'I value deep authenticity and growth above all else. People come to me when they need honest feedback and strategic clarity. I'm at my best when I'm helping others see possibilities they couldn't see before and building systems that create lasting impact...'" class="large"></textarea>
                <div class="char-counter" id="values-counter">0 characters</div>
            </div>

            <div class="button-group">
                <button class="btn-secondary" onclick="previousStep()">‚Üê Previous</button>
                <button class="btn-primary" onclick="nextStep()" id="step1-next">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 2: Impact & Contribution -->
        <div class="screen" id="screen-step2">
            <div class="step-content">
                <h2>Step 2: Impact & Contribution</h2>
                <p class="instruction">Now let's explore the difference you want to make in the world and who you're here to serve.</p>

                <div class="prompt-section">
                    <h3>Consider these questions:</h3>
                    <ul class="prompt-list">
                        <li>Who do you most want to help, serve, or impact? (specific people, communities, causes)</li>
                        <li>What problems in the world do you feel called to solve?</li>
                        <li>If you could wave a magic wand, what would be different in the world because you existed?</li>
                        <li>What do you want people to say about the impact you've had on their lives?</li>
                        <li>What contribution would make you feel like your life mattered?</li>
                    </ul>
                </div>

                <label for="impact-response" style="display: block; color: #1e293b; font-weight: 600; margin-bottom: 10px;">
                    Your Reflections on Impact & Contribution:
                </label>
                <textarea id="impact-response" placeholder="Write about the difference you want to make. Who do you serve? What problems do you solve? What would success look like?

Example: 'I want to help leaders who feel stuck build the teams and cultures they've always dreamed of. I'm here to solve the problem of talented people working in dysfunctional environments. Success means thousands of people going to work excited instead of dreading Monday...'" class="large"></textarea>
                <div class="char-counter" id="impact-counter">0 characters</div>
            </div>

            <div class="button-group">
                <button class="btn-secondary" onclick="previousStep()">‚Üê Previous</button>
                <button class="btn-primary" onclick="nextStep()" id="step2-next">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 3: Vision & Future -->
        <div class="screen" id="screen-step3">
            <div class="step-content">
                <h2>Step 3: Vision & Legacy</h2>
                <p class="instruction">Let's think bigger‚Äîabout the legacy you want to leave and who you're becoming.</p>

                <div class="prompt-section">
                    <h3>Imagine these scenarios:</h3>
                    <ul class="prompt-list">
                        <li>Fast forward 20 years. What do you hope to have created, built, or changed?</li>
                        <li>At the end of your life, what would make you feel like it was time well spent?</li>
                        <li>What's the person you're working to become? What qualities are you developing?</li>
                        <li>If someone wrote your biography, what would the chapter titles be?</li>
                        <li>What does "success" actually mean to you, beyond money or status?</li>
                    </ul>
                </div>

                <label for="vision-response" style="display: block; color: #1e293b; font-weight: 600; margin-bottom: 10px;">
                    Your Reflections on Vision & Legacy:
                </label>
                <textarea id="vision-response" placeholder="Write about your long-term vision and the legacy you want to leave. Who are you becoming? What will you have created?

Example: 'In 20 years, I want to have helped build 100+ high-performing teams and trained 1,000+ leaders in embodied leadership. I'm becoming someone who leads by example, shows vulnerability, and creates space for others to grow. Success means my kids see me as fully present and my clients say their work transformed their lives...'" class="large"></textarea>
                <div class="char-counter" id="vision-counter">0 characters</div>
            </div>

            <div class="button-group">
                <button class="btn-secondary" onclick="previousStep()">‚Üê Previous</button>
                <button class="btn-primary" onclick="nextStep()" id="step3-next">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 4: Mission Draft -->
        <div class="screen" id="screen-step4">
            <div class="step-content">
                <h2>Step 4: Craft Your Mission Statement</h2>
                <p class="instruction">Now it's time to synthesize everything into a clear, compelling mission statement. This is YOUR declaration of purpose.</p>

                <div class="info-box">
                    <h3>Mission Statement Framework</h3>
                    <p style="margin-bottom: 10px;">A powerful mission statement typically includes:</p>
                    <ul style="margin-left: 20px; color: #475569;">
                        <li style="margin: 8px 0;">Who you serve or impact</li>
                        <li style="margin: 8px 0;">What you do or create (your unique contribution)</li>
                        <li style="margin: 8px 0;">How you do it (your values/approach)</li>
                        <li style="margin: 8px 0;">Why it matters (the bigger purpose)</li>
                    </ul>
                </div>

                <div class="example">
                    <strong>Example Mission Statements:</strong><br><br>
                    "I help ambitious leaders build high-trust teams through embodied leadership and authentic communication, so they can create workplaces where people thrive and do their best work."<br><br>
                    "I use design thinking and systems strategy to help organizations solve complex problems with clarity and creativity, creating solutions that are both beautiful and impactful."<br><br>
                    "I empower women in tech to step into leadership roles with confidence by providing mentorship, community, and practical skills‚Äîbecause diverse leadership creates better products and companies."
                </div>

                <label for="mission-draft" style="display: block; color: #1e293b; font-weight: 600; margin-bottom: 10px;">
                    Your Mission Statement (First Draft):
                </label>
                <textarea id="mission-draft" placeholder="Synthesize your reflections into a clear mission statement. Don't overthink it‚Äîyou'll refine it in the next step.

Try to complete this sentence: 'I help [WHO] do/achieve [WHAT] through [HOW], so that [WHY IT MATTERS].'

Or write it in your own authentic voice." class="large"></textarea>
                <div class="char-counter" id="draft-counter">0 characters (aim for 1-3 sentences)</div>
            </div>

            <div class="button-group">
                <button class="btn-secondary" onclick="previousStep()">‚Üê Previous</button>
                <button class="btn-primary" onclick="nextStep()" id="step4-next">Continue to Refinement ‚Üí</button>
            </div>
        </div>

        <!-- Step 5: Refinement -->
        <div class="screen" id="screen-step5">
            <div class="step-content">
                <h2>Step 5: Refine Your Mission</h2>
                <p class="instruction">Read your draft mission statement aloud. Does it resonate? Does it sound like YOU? Let's polish it until it feels just right.</p>

                <div class="mission-display" style="border: 2px solid #e2e8f0; background: #f8fafc;">
                    <div style="color: #94a3b8; font-size: 0.9em; margin-bottom: 10px;">YOUR DRAFT MISSION:</div>
                    <div class="mission-text" id="draft-display" style="color: #475569; font-size: 1.2em; font-style: normal;">
                        [Your mission will appear here]
                    </div>
                </div>

                <div class="prompt-section">
                    <h3>Refinement Questions:</h3>
                    <ul class="prompt-list">
                        <li>Is it specific enough? Does it clearly state who you help and how?</li>
                        <li>Is it authentic? Does it sound like something you'd actually say?</li>
                        <li>Is it inspiring? Does it energize you when you read it?</li>
                        <li>Is it actionable? Can you make decisions based on it?</li>
                        <li>Is it memorable? Could you recite it from memory?</li>
                    </ul>
                </div>

                <label for="mission-final" style="display: block; color: #1e293b; font-weight: 600; margin-bottom: 10px;">
                    Your Final Mission Statement:
                </label>
                <textarea id="mission-final" placeholder="Refine your mission statement. Make every word count. This should be something you're proud to share." class="large"></textarea>
                <div class="char-counter" id="final-counter">0 characters</div>
            </div>

            <div class="button-group">
                <button class="btn-secondary" onclick="previousStep()">‚Üê Previous</button>
                <button class="btn-primary" onclick="showResults()" id="step5-next">Complete Mission Statement ‚Üí</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div class="screen" id="screen-results">
            <div class="results-content">
                <h2>üéâ Your Mission Statement is Complete!</h2>

                <div class="mission-display">
                    <div class="mission-text" id="final-mission-display">
                        [Your mission statement will appear here]
                    </div>
                </div>

                <div class="reflection-section">
                    <h3>üí° How to Use Your Mission Statement</h3>
                    
                    <div class="insights-grid">
                        <div class="insight-card">
                            <h4>üìã Decision Filter</h4>
                            <p>Use it to evaluate opportunities. Ask: "Does this align with my mission?" If yes, lean in. If no, say no clearly.</p>
                        </div>
                        <div class="insight-card">
                            <h4>üéØ Career Clarity</h4>
                            <p>Review job offers, projects, and roles against your mission. Does this move you closer to your purpose or distract from it?</p>
                        </div>
                        <div class="insight-card">
                            <h4>üß≠ Goal Setting</h4>
                            <p>Your mission guides your goals. Annual, quarterly, and weekly goals should all connect back to this North Star.</p>
                        </div>
                        <div class="insight-card">
                            <h4>üí¨ Communication</h4>
                            <p>Share it with your team, boss, or clients. It helps people understand how to work with you and what you care about.</p>
                        </div>
                        <div class="insight-card">
                            <h4>‚ö° Energy Management</h4>
                            <p>When you feel drained or off-track, re-read your mission. It reminds you WHY you do what you do.</p>
                        </div>
                        <div class="insight-card">
                            <h4>üîÑ Annual Review</h4>
                            <p>Revisit and refine your mission annually. You're growing‚Äîyour mission can evolve too.</p>
                        </div>
                    </div>

                    <div class="reflection-item">
                        <h4>üü£ Connection to Purple Belt (Commitment)</h4>
                        <p>Lack of commitment often stems from lack of clarity. When you know your mission, you can commit with conviction‚Äîto projects, roles, and decisions that align with it. You can also walk away from things that don't serve your purpose without guilt or FOMO. This clarity makes "disagree and commit" easier because you know what you're committing TO.</p>
                    </div>

                    <div class="reflection-item">
                        <h4>üìù Next Steps</h4>
                        <p><strong>1.</strong> Write your mission statement somewhere you'll see it daily (phone background, journal, wall)<br>
                        <strong>2.</strong> Share it with 2-3 people who know you well and ask: "Does this sound like me?"<br>
                        <strong>3.</strong> Use it this week to make at least one decision (say yes or no to something)<br>
                        <strong>4.</strong> Set a calendar reminder to review it in 90 days</p>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="copyMission()">üìã Copy Mission Statement</button>
                    <button class="btn-secondary" onclick="retakeMission()">üîÑ Refine Again</button>
                    <a href="purple-belt.html" class="btn-primary">‚Üê Back to Purple Belt</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 5;

        const responses = {
            values: '',
            impact: '',
            vision: '',
            draft: '',
            final: ''
        };

        function startAssessment() {
            currentStep = 1;
            showScreen('screen-step1');
            updateProgress();
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            window.scrollTo(0, 0);
        }

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Step ${currentStep} of ${totalSteps}`;
        }

        function nextStep() {
            // Save current response
            if (currentStep === 1) {
                responses.values = document.getElementById('values-response').value;
                if (!responses.values.trim()) {
                    alert('Please write your reflections before continuing.');
                    return;
                }
            } else if (currentStep === 2) {
                responses.impact = document.getElementById('impact-response').value;
                if (!responses.impact.trim()) {
                    alert('Please write your reflections before continuing.');
                    return;
                }
            } else if (currentStep === 3) {
                responses.vision = document.getElementById('vision-response').value;
                if (!responses.vision.trim()) {
                    alert('Please write your reflections before continuing.');
                    return;
                }
            } else if (currentStep === 4) {
                responses.draft = document.getElementById('mission-draft').value;
                if (!responses.draft.trim()) {
                    alert('Please write your mission statement draft before continuing.');
                    return;
                }
                // Pre-fill refinement step with draft
                document.getElementById('draft-display').textContent = responses.draft;
                document.getElementById('mission-final').value = responses.draft;
            }

            currentStep++;
            showScreen(`screen-step${currentStep}`);
            updateProgress();
        }

        function previousStep() {
            if (currentStep === 1) {
                currentStep = 0;
                showScreen('screen-intro');
            } else {
                currentStep--;
                showScreen(`screen-step${currentStep}`);
            }
            updateProgress();
        }

        function showResults() {
            responses.final = document.getElementById('mission-final').value;
            if (!responses.final.trim()) {
                alert('Please complete your final mission statement.');
                return;
            }

            // Display final mission
            document.getElementById('final-mission-display').textContent = responses.final;

            // Save to localStorage
            const missionData = {
                timestamp: new Date().toISOString(),
                values: responses.values,
                impact: responses.impact,
                vision: responses.vision,
                draft: responses.draft,
                final: responses.final
            };

            localStorage.setItem('personalMission', JSON.stringify(missionData));

            // Update Purple Belt progress
            const purpleBeltProgress = JSON.parse(localStorage.getItem('purpleBeltProgress') || '[]');
            if (!purpleBeltProgress.includes('mission')) {
                purpleBeltProgress.push('mission');
                localStorage.setItem('purpleBeltProgress', JSON.stringify(purpleBeltProgress));
            }

            showScreen('screen-results');
        }

        function copyMission() {
            const mission = responses.final;
            navigator.clipboard.writeText(mission).then(() => {
                alert('‚úÖ Mission statement copied to clipboard!');
            }).catch(() => {
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = mission;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('‚úÖ Mission statement copied to clipboard!');
            });
        }

        function retakeMission() {
            currentStep = 5;
            showScreen('screen-step5');
            updateProgress();
        }

        // Character counters
        function setupCharCounter(textareaId, counterId) {
            const textarea = document.getElementById(textareaId);
            const counter = document.getElementById(counterId);
            
            textarea.addEventListener('input', function() {
                const count = this.value.length;
                counter.textContent = `${count} characters`;
                
                if (count > 500) {
                    counter.classList.add('warning');
                } else {
                    counter.classList.remove('warning');
                }
            });
        }

        setupCharCounter('values-response', 'values-counter');
        setupCharCounter('impact-response', 'impact-counter');
        setupCharCounter('vision-response', 'vision-counter');
        setupCharCounter('mission-draft', 'draft-counter');
        setupCharCounter('mission-final', 'final-counter');

        // Load saved data if exists
        window.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem('personalMission');
            if (saved) {
                const data = JSON.parse(saved);
                // Optionally pre-fill if user wants to edit
                console.log('Previous mission found:', data.final);
            }
        });
    </script>

    <!-- Performance Optimizer - Load First -->
<script src="js/performance-optimizer.js"></script>
</body>
</html>
