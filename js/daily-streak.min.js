const DAILY_STREAK={checkStreak:function(){const t=(new Date).toDateString(),e=localStorage.getItem("lastVisitDate"),a=parseInt(localStorage.getItem("dailyStreak"))||0;if(e===t)return a;const o=new Date(Date.now()-864e5).toDateString();if(e===o){const e=a+1;return localStorage.setItem("dailyStreak",e.toString()),localStorage.setItem("lastVisitDate",t),e%7==0&&this.awardStreakBonus(e),e}return localStorage.setItem("dailyStreak","1"),localStorage.setItem("lastVisitDate",t),1},getCurrentStreak:function(){return parseInt(localStorage.getItem("dailyStreak"))||0},awardStreakBonus:function(t){const e=5*t;if(void 0!==window.TapInGamification&&window.TapInGamification.awardXP)window.TapInGamification.awardXP(e,`${t}-day streak milestone`);else if("function"==typeof addXP)addXP(e);else{const t=parseInt(localStorage.getItem("totalXP"))||0;localStorage.setItem("totalXP",(t+e).toString())}this.showStreakMilestonePopup(t,e)},showStreakMilestonePopup:function(t,e){const a=document.createElement("div");a.className="streak-milestone-popup",a.innerHTML=`<div class="streak-content"><div class="fire-icon">ðŸ”¥</div><h3>${t}Day Streak!</h3><p>Your consistency is paying off!</p><div class="streak-bonus">+${e}Bonus XP</div></div>`,document.body.appendChild(a),"function"==typeof confetti&&confetti({particleCount:100,spread:70,origin:{y:.6},colors:["#f6ad55","#ed8936","#dd6b20"]}),setTimeout(()=>{a.style.opacity="0",setTimeout(()=>a.remove(),500)},4e3)},displayStreak:function(){const t=this.checkStreak();document.querySelectorAll("[data-streak-display]").forEach(e=>{e.innerHTML=`<span class="streak-fire">ðŸ”¥</span><span class="streak-number">${t}</span><span class="streak-label">day${1!==t?"s":""}</span>`}),document.querySelectorAll("[data-streak-count]").forEach(e=>{e.textContent=t})}};document.addEventListener("DOMContentLoaded",function(){DAILY_STREAK.displayStreak()}),window.DAILY_STREAK=DAILY_STREAK;