const ErrorHandler={init(){window.addEventListener("error",e=>{this.handleError({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error})}),window.addEventListener("unhandledrejection",e=>{this.handleError({message:e.reason?.message||String(e.reason),type:"Promise Rejection",error:e.reason})})},handleError(e){if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"){console.error("Error caught:",e)}try{const r=JSON.parse(localStorage.getItem("tapin_errors")||"[]");r.push({...e,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent}),r.length>50&&r.shift(),localStorage.setItem("tapin_errors",JSON.stringify(r))}catch(e){}},"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",()=>{ErrorHandler.init()}),window.ErrorHandler=ErrorHandler;
