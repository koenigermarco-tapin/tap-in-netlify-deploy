!function(){"use strict";const t={tooltips:new Map,activeTooltip:null,init:function(){this.initDataTooltips(),this.initCommonTooltips(),console.log("ðŸ’¡ Tooltips system initialized")},initDataTooltips:function(){document.querySelectorAll("[data-tooltip]").forEach(t=>{const o=t.getAttribute("data-tooltip"),e=t.getAttribute("data-tooltip-placement")||"top";this.addTooltip(t,o,e)})},initCommonTooltips:function(){document.querySelectorAll('.xp-badge, [class*="xp"], #totalXP').forEach(t=>{t.hasAttribute("data-tooltip")||this.addTooltip(t,"Earn XP by completing lessons and assessments","top")}),document.querySelectorAll('.belt-badge, [class*="belt"]').forEach(t=>{!t.hasAttribute("data-tooltip")&&t.textContent.trim()&&this.addTooltip(t,"Your current belt level. Complete 4 stripes to advance.","top")}),document.querySelectorAll('a[href*="achievement"], button:has(ðŸ†)').forEach(t=>{t.hasAttribute("data-tooltip")||this.addTooltip(t,"View your unlocked achievements","top")})},addTooltip:function(t,o,e="top"){if(!t||!o)return;this.tooltips.has(t)&&this.removeTooltip(t);const i={element:t,text:o,placement:e,tooltipEl:null};this.tooltips.set(t,i),t.addEventListener("mouseenter",()=>this.showTooltip(i)),t.addEventListener("mouseleave",()=>this.hideTooltip(i)),t.addEventListener("focus",()=>this.showTooltip(i)),t.addEventListener("blur",()=>this.hideTooltip(i))},showTooltip:function(t){if(this.activeTooltip===t)return;this.hideTooltip();const o=document.createElement("div");o.className=`tap-in-tooltip tap-in-tooltip-${t.placement}`,o.setAttribute("role","tooltip"),o.textContent=t.text,o.id="active-tooltip",document.body.appendChild(o),this.positionTooltip(t.element,o,t.placement),t.tooltipEl=o,this.activeTooltip=t,setTimeout(()=>o.classList.add("show"),10)},hideTooltip:function(){if(this.activeTooltip&&this.activeTooltip.tooltipEl){const t=this.activeTooltip.tooltipEl;t.classList.remove("show"),setTimeout(()=>{t.parentNode&&t.remove()},200),this.activeTooltip.tooltipEl=null}this.activeTooltip=null},positionTooltip:function(t,o,e){const i=t.getBoundingClientRect(),n=o.getBoundingClientRect(),l=window.scrollY,s=window.scrollX;let a,p;switch(e){case"top":default:a=i.top+l-n.height-8,p=i.left+s+i.width/2-n.width/2;break;case"bottom":a=i.bottom+l+8,p=i.left+s+i.width/2-n.width/2;break;case"left":a=i.top+l+i.height/2-n.height/2,p=i.left+s-n.width-8;break;case"right":a=i.top+l+i.height/2-n.height/2,p=i.right+s+8}const d=10;p<d&&(p=d),p+n.width>window.innerWidth-d&&(p=window.innerWidth-n.width-d),a<l+d&&(a=l+d,"top"===e&&(a=i.bottom+l+8)),o.style.top=a+"px",o.style.left=p+"px"},removeTooltip:function(t){this.tooltips.get(t)&&(this.hideTooltip(),this.tooltips.delete(t))}};if(!document.getElementById("tooltip-styles")){const t=document.createElement("style");t.id="tooltip-styles",t.textContent="\n      .tap-in-tooltip {\n        position: absolute;\n        background: #1a365d;\n        color: white;\n        padding: 8px 12px;\n        border-radius: 6px;\n        font-size: 14px;\n        line-height: 1.4;\n        max-width: 250px;\n        z-index: 10001;\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity 0.2s ease;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n      }\n      .tap-in-tooltip.show {\n        opacity: 1;\n      }\n      .tap-in-tooltip::after {\n        content: '';\n        position: absolute;\n        width: 0;\n        height: 0;\n        border: 6px solid transparent;\n      }\n      .tap-in-tooltip-top::after {\n        bottom: -12px;\n        left: 50%;\n        transform: translateX(-50%);\n        border-top-color: #1a365d;\n      }\n      .tap-in-tooltip-bottom::after {\n        top: -12px;\n        left: 50%;\n        transform: translateX(-50%);\n        border-bottom-color: #1a365d;\n      }\n      .tap-in-tooltip-left::after {\n        right: -12px;\n        top: 50%;\n        transform: translateY(-50%);\n        border-left-color: #1a365d;\n      }\n      .tap-in-tooltip-right::after {\n        left: -12px;\n        top: 50%;\n        transform: translateY(-50%);\n        border-right-color: #1a365d;\n      }\n    ",document.head.appendChild(t)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>t.init()):t.init();new MutationObserver(()=>{t.initDataTooltips()}).observe(document.body,{childList:!0,subtree:!0}),window.Tooltips=t}();