<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Performance: Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">

    <!-- Performance: Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>üü£ Purple Belt Assessment | Tap-In Leadership</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #4a7c9c 0%, #3d6680 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .assessment-header {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            border: 3px solid #6b21a8;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .belt-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 700;
            color: #6b21a8;
            margin-bottom: 20px;
            border: 2px solid #c084fc;
        }

        h1 {
            color: white;
            font-size: 36px;
            margin-bottom: 15px;
        }

        .assessment-intro {
            color: #f3e8ff;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .requirements-box {
            background: rgba(255, 255, 255, 0.95);
            border-left: 4px solid #fbbf24;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .requirements-box h3 {
            color: #6b21a8;
            margin-bottom: 10px;
        }

        .requirements-box ul {
            color: #1e293b;
            margin-left: 20px;
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f3e8ff;
        }

        .section-number {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            border: 2px solid #6b21a8;
        }

        .section-title {
            flex: 1;
        }

        .section-title h2 {
            color: #1e293b;
            font-size: 24px;
            margin-bottom: 5px;
        }

        .section-title p {
            color: #64748b;
            font-size: 14px;
        }

        .question {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 10px;
            border-left: 4px solid #a855f7;
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
        }

        .question-number {
            background: #a855f7;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
            flex-shrink: 0;
        }

        .question-text {
            flex: 1;
            color: #1e293b;
            font-size: 16px;
            line-height: 1.6;
            font-weight: 500;
        }

        .options {
            margin-left: 50px;
        }

        .option {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option:hover {
            border-color: #a855f7;
            background: #faf5ff;
        }

        .option.selected {
            border-color: #a855f7;
            background: #f3e8ff;
        }

        .option-letter {
            background: #e2e8f0;
            color: #475569;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            flex-shrink: 0;
        }

        .option.selected .option-letter {
            background: #a855f7;
            color: white;
        }

        .option-text {
            color: #475569;
            line-height: 1.5;
        }

        .reflection-prompt {
            margin-bottom: 20px;
        }

        .prompt-text {
            color: #1e293b;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .reflection-textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-family: inherit;
            font-size: 15px;
            line-height: 1.6;
            resize: vertical;
            transition: border-color 0.2s;
        }

        .reflection-textarea:focus {
            outline: none;
            border-color: #a855f7;
        }

        .word-count {
            text-align: right;
            color: #64748b;
            font-size: 13px;
            margin-top: 5px;
        }

        .submit-section {
            background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
            border: 2px solid #a855f7;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
        }

        .submit-section h3 {
            color: #6b21a8;
            font-size: 22px;
            margin-bottom: 15px;
        }

        .submit-section p {
            color: #1e293b;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .submit-btn {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 16px 48px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #6b21a8;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(168, 85, 247, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            border-radius: 20px;
            padding: 50px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 1000;
            max-width: 500px;
            border: 3px solid #a855f7;
        }

        .result-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            pointer-events: all;
        }

        .result-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 32px;
            color: #1e293b;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .result-message {
            color: #64748b;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .result-xp {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 24px;
            font-weight: 700;
            display: inline-block;
            margin-bottom: 25px;
            border: 2px solid #6b21a8;
        }

        .result-btn {
            background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 12px 32px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid #6b21a8;
        }

        .result-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(168, 85, 247, 0.3);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 999;
        }

        .overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            transition: background 0.2s;
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.25);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="belt-check.html" class="back-link">‚Üê Back to Belt Check</a>
        
        <div class="assessment-header">
            <div class="belt-badge">üü£ PURPLE BELT</div>
            <h1>Purple Belt Assessment</h1>
            <p class="assessment-intro">
                This assessment evaluates your understanding of commitment as a leadership practice. You've completed all four stripes covering commitment foundations, driving commitment in others, building commitment culture, and personal mastery. Now it's time to demonstrate your ability to navigate complex commitment scenarios across all these dimensions.
            </p>
            <div class="requirements-box">
                <h3>‚ö° Assessment Requirements</h3>
                <ul>
                    <li>15 scenario-based questions testing commitment judgment</li>
                    <li>Each scenario has one best answer reflecting Purple Belt principles</li>
                    <li>80% passing score required (12 out of 15 correct)</li>
                    <li>Reflektionen and practical application commitments</li>
                    <li>Estimated time: 25-30 minutes</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <div class="section-number">üìã</div>
                <div class="section-title">
                    <h2>Instructions</h2>
                    <p>How to complete this assessment</p>
                </div>
            </div>
            <p style="color: #475569; line-height: 1.8;">
                Each scenario below presents a realistic leadership situation involving commitment challenges. Read carefully and select the response that best aligns with Purple Belt principles you've learned across all four stripes. Consider: clarity of commitments, capacity management, psychological safety, follow-through systems, personal integrity, and cultural alignment.
            </p>
            <p style="color: #475569; line-height: 1.8; margin-top: 15px;">
                There are no time limits, but trust your instincts. The best answers reflect both the frameworks and the spirit of commitment mastery. After completing all scenarios, you'll have space for reflection and to make personal commitments for applying what you've learned.
            </p>
        </div>

        <!-- Section 1: Szenario-Fragen -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">1</div>
                <div class="section-title">
                    <h2>Commitment Scenarios</h2>
                    <p>15 questions ‚Ä¢ Choose the response that best reflects commitment mastery</p>
                </div>
            </div>

            <!-- Question 1: Vague Commitments (Stripe 1) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">1</div>
                    <div class="question-text">
                        Am Ende eines Planning Meetings sagt dein Product Manager "Ich werde versuchen, die Designs bald fertig zu machen." 
                        Zwei Wochen sp√§ter ist nichts passiert. Was ist das Kernproblem?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="1" data-option="A" onclick="selectOption(1, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Der PM ist √ºberfordert und braucht Capacity Support.</div>
                    </div>
                    <div class="option" data-question="1" data-option="B" onclick="selectOption(1, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Das Commitment war zu vage‚Äî"versuchen," "bald," und kein spezifisches Deliverable kreiert keine Accountability.</div>
                    </div>
                    <div class="option" data-question="1" data-option="C" onclick="selectOption(1, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Der PM k√ºmmert sich nicht genug um das Projekt, um es zu priorisieren.</div>
                    </div>
                    <div class="option" data-question="1" data-option="D" onclick="selectOption(1, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Zwei Wochen sind nicht lang genug f√ºr ein Follow-up‚Äîgib ihnen mehr Zeit.</div>
                    </div>
                </div>
            </div>

            <!-- Question 2: Sacred Commitments (Stripe 1) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">2</div>
                    <div class="question-text">
                        Dein Team liegt bei einem gro√üen Deliverable zur√ºck. Dein bester Engineer sagt "Ich kann am Wochenende arbeiten, um aufzuholen." 
                        Was ist die beste Response als ihr Leader?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="2" data-option="A" onclick="selectOption(2, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Danke ihnen f√ºr das Angebot und lass sie am Wochenende arbeiten‚Äîzeigt Commitment zum Team.</div>
                    </div>
                    <div class="option" data-question="2" data-option="B" onclick="selectOption(2, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Sage "Ich sch√§tze das Angebot, aber Wochenenden sind sacred. Lass uns schauen, was wir descopen oder pushen k√∂nnen stattdessen."</div>
                    </div>
                    <div class="option" data-question="2" data-option="C" onclick="selectOption(2, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Akzeptiere das Angebot nur, wenn alle anderen im Team auch am Wochenende arbeiten, um fair zu sein.</div>
                    </div>
                    <div class="option" data-question="2" data-option="D" onclick="selectOption(2, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Sage ihnen, sie sollen am Wochenende arbeiten, aber verspreche ihnen Comp Time n√§chsten Monat.</div>
                    </div>
                </div>
            </div>

            <!-- Question 3: Commitment Clarity (Stripe 1) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">3</div>
                    <div class="question-text">
                        Welches ist das BESTE Beispiel f√ºr ein klares, actionable Commitment?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="3" data-option="A" onclick="selectOption(3, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">"Ich werde diese Woche an der API Integration arbeiten."</div>
                    </div>
                    <div class="option" data-question="3" data-option="B" onclick="selectOption(3, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">"Ich werde die User Authentication Endpoints bis Freitag 17 Uhr shippen, mit Swagger Docs und Unit Tests bei 80% Coverage."</div>
                    </div>
                    <div class="option" data-question="3" data-option="C" onclick="selectOption(3, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">"Ich werde mein Bestes geben, um die Authentication Sachen bald fertig zu machen."</div>
                    </div>
                    <div class="option" data-question="3" data-option="D" onclick="selectOption(3, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">"Ich werde bis Ende der Woche Progress bei Authentication machen."</div>
                    </div>
                </div>
            </div>

            <!-- Question 4: Driving Commitment (Stripe 2) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">4</div>
                    <div class="question-text">
                        Du hast ein Team-Mitglied dreimal gebeten, die Documentation zu updaten. Jedes Mal sagen sie "klar", aber nichts passiert. 
                        Was ist der beste n√§chste Schritt?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="4" data-option="A" onclick="selectOption(4, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Escalate zu ihrem Manager‚Äîdas ist ein Performance Issue.</div>
                    </div>
                    <div class="option" data-question="4" data-option="B" onclick="selectOption(4, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Mache es selbst‚Äîes ist schneller, als weiter zu fragen.</div>
                    </div>
                    <div class="option" data-question="4" data-option="C" onclick="selectOption(4, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Habe ein direktes Gespr√§ch: "Ich habe dreimal gefragt ohne Follow-through. Was blockt dich? Hast du Capacity? Ist das unklar?"</div>
                    </div>
                    <div class="option" data-question="4" data-option="D" onclick="selectOption(4, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">H√∂re auf zu fragen‚Äîoffensichtlich ist Documentation keine Priority f√ºr sie.</div>
                    </div>
                </div>
            </div>

            <!-- Question 5: Renegotiating Early (Stripe 2) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">5</div>
                    <div class="question-text">
                        Du hast committed, ein Feature bis Montag zu delivern. Am Donnerstag realisierst du, dass eine kritische Dependency geblockt ist 
                        und du die Deadline nicht schaffen wirst. Was solltest du tun?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="5" data-option="A" onclick="selectOption(5, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Arbeite √ºber das Wochenende, um die Montag-Deadline zu treffen‚Äîbreche niemals Commitments.</div>
                    </div>
                    <div class="option" data-question="5" data-option="B" onclick="selectOption(5, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Warte bis Montag, um Stakeholdern zu sagen, dass du die Deadline verpasst hast.</div>
                    </div>
                    <div class="option" data-question="5" data-option="C" onclick="selectOption(5, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Shippe eine incomplete Version am Montag, um das Commitment technisch zu erf√ºllen.</div>
                    </div>
                    <div class="option" data-question="5" data-option="D" onclick="selectOption(5, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Renegotiate sofort am Donnerstag: "Die Dependency ist geblockt. Hier sind drei Optionen mit neuen Timelines."</div>
                    </div>
                </div>
            </div>

            <!-- Question 6: Commitment Culture (Stripe 3) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">6</div>
                    <div class="question-text">
                        Im Planning Meeting deines Teams committen alle zu aggressiven Goals. Privat sagen dir mehrere Leute 
                        "es gibt keine Chance, dass wir diese Zahlen treffen." Was ist das systemische Problem?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="6" data-option="A" onclick="selectOption(6, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Leute sind faul und wollen nicht hart arbeiten.</div>
                    </div>
                    <div class="option" data-question="6" data-option="B" onclick="selectOption(6, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Mangel an Psychological Safety‚ÄîLeute k√∂nnen die Wahrheit √ºber Capacity nicht in √∂ffentlichen Settings aussprechen.</div>
                    </div>
                    <div class="option" data-question="6" data-option="C" onclick="selectOption(6, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Die Goals sind nicht aggressiv genug‚ÄîTeams sandbagen immer Estimates.</div>
                    </div>
                    <div class="option" data-question="6" data-option="D" onclick="selectOption(6, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Leute brauchen besseres Project Management Training, um akkurat zu sch√§tzen.</div>
                    </div>
                </div>
            </div>

            <!-- Question 7: Public Commitments (Stripe 3) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">7</div>
                    <div class="question-text">
                        Du willst eine Culture aufbauen, in der Commitments ernst genommen werden. Was ist die effektivste Practice 
                        zu implementieren?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="7" data-option="A" onclick="selectOption(7, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Bestrafe jeden, der eine Deadline verpasst, um Accountability zu kreieren.</div>
                    </div>
                    <div class="option" data-question="7" data-option="B" onclick="selectOption(7, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Mache alle Commitments public in einem Shared Tracker mit spezifischen "What by When by Whom" Details.</div>
                    </div>
                    <div class="option" data-question="7" data-option="C" onclick="selectOption(7, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">H√∂re komplett auf, Commitments zu machen‚ÄîWork ist zu unvorhersehbar.</div>
                    </div>
                    <div class="option" data-question="7" data-option="D" onclick="selectOption(7, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Erlaube nur Leaders, Commitments zu machen‚ÄîIndividual Contributors kann nicht vertraut werden.</div>
                    </div>
                </div>
            </div>

            <!-- Question 8: Capacity Honesty (Stripe 4) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">8</div>
                    <div class="question-text">
                        Du l√§ufst bei 110% Capacity. Dein Manager fragt, ob du "noch eine kleine Sache" √ºbernehmen kannst. 
                        Du wei√üt, es ist nicht wirklich klein. Was ist die beste Response?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="8" data-option="A" onclick="selectOption(8, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Sage ja‚Äînein zu sagen l√§sst dich uncommitted oder faul aussehen.</div>
                    </div>
                    <div class="option" data-question="8" data-option="B" onclick="selectOption(8, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Sage "Ich bin bei Capacity. Hier ist meine Current Load. Wenn das Priority ist, was soll ich droppen oder delayen?"</div>
                    </div>
                    <div class="option" data-question="8" data-option="C" onclick="selectOption(8, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Sage ja, dann arbeite N√§chte und Wochenenden, um es reinzubekommen.</div>
                    </div>
                    <div class="option" data-question="8" data-option="D" onclick="selectOption(8, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Sage ja, aber mache einen mittelm√§√üigen Job, da du keine Zeit hast, es gut zu machen.</div>
                    </div>
                </div>
            </div>

            <!-- Question 9: Self-Commitment (Stripe 4) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">9</div>
                    <div class="question-text">
                        Du hast dir drei Wochen lang gesagt, dass du vor der Arbeit mit Sport anfangen wirst. Jeden Morgen dr√ºckst du Snooze 
                        und √ºberspringst es. Was ist das Integrity Issue?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="9" data-option="A" onclick="selectOption(9, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Pers√∂nliche Commitments z√§hlen nicht so viel wie professionelle‚Äîdas ist kein echtes Problem.</div>
                    </div>
                    <div class="option" data-question="9" data-option="B" onclick="selectOption(9, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Du bist faul und brauchst einfach mehr Willpower.</div>
                    </div>
                    <div class="option" data-question="9" data-option="C" onclick="selectOption(9, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-letter">C</div>
                        <div class="option-text">Du erodierst Self-Trust, indem du wiederholt Commitments zu dir selbst brichst, was alle Bereiche von Leadership beeinflusst.</div>
                    </div>
                    <div class="option" data-question="9" data-option="D" onclick="selectOption(9, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Morgen ist nicht die richtige Zeit‚Äîtrainiere einfach, wann immer du Lust hast.</div>
                    </div>
                </div>
            </div>

            <!-- Question 10: Commitment Systems (Stripe 3) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">10</div>
                    <div class="question-text">
                        Dein Team verpasst st√§ndig Commitments, weil "Dinge aufkommen." Welche strukturelle √Ñnderung w√ºrde am meisten helfen?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="10" data-option="A" onclick="selectOption(10, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Feuere die Leute, die Deadlines am h√§ufigsten verpassen.</div>
                    </div>
                    <div class="option" data-question="10" data-option="B" onclick="selectOption(10, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Implementiere ein w√∂chentliches "Commitment Review", wo alle Promises getrackt werden und Blocker public gesurfaced werden.</div>
                    </div>
                    <div class="option" data-question="10" data-option="C" onclick="selectOption(10, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">H√∂re auf, irgendwelche Commitments zu machen‚ÄîWork ist zu unvorhersehbar.</div>
                    </div>
                    <div class="option" data-question="10" data-option="D" onclick="selectOption(10, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Stelle einen Project Manager ein, um alles f√ºrs Team zu tracken.</div>
                    </div>
                </div>
            </div>

            <!-- Question 11: When to Say No (Stripe 4) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">11</div>
                    <div class="question-text">
                        Ein Sales Rep verspricht einem Client ein Custom Feature bis n√§chste Woche ohne Engineering zu konsultieren. Der Client 
                        ist excited. Engineering sagt, es dauert mindestens sechs Wochen. Was ist dein Move als Engineering Leader?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="11" data-option="A" onclick="selectOption(11, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Crunch Mode f√ºr eine Woche‚Äîder Client z√§hlt jetzt auf uns.</div>
                    </div>
                    <div class="option" data-question="11" data-option="B" onclick="selectOption(11, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Rufe den Client sofort an: "Sales hat einen Fehler gemacht. Es dauert sechs Wochen." Dann fixe den Internal Process.</div>
                    </div>
                    <div class="option" data-question="11" data-option="C" onclick="selectOption(11, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Lass Sales damit umgehen‚Äîsie haben das Promise gemacht, sie k√∂nnen die Consequences handlen.</div>
                    </div>
                    <div class="option" data-question="11" data-option="D" onclick="selectOption(11, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Shippe eine Half-Finished Version in einer Woche, dann iteriere basierend auf Client Feedback.</div>
                    </div>
                </div>
            </div>

            <!-- Question 12: Building Commitment Muscle (Stripe 2) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">12</div>
                    <div class="question-text">
                        Ein Junior Team Member hat drei kleine Commitments in Folge verpasst (Docs updaten, auf PRs antworten, zu Standups gehen). 
                        Wie coachst du sie?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="12" data-option="A" onclick="selectOption(12, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Ignoriere es‚Äîsie sind Junior und lernen noch.</div>
                    </div>
                    <div class="option" data-question="12" data-option="B" onclick="selectOption(12, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Setze sie sofort auf einen Performance Improvement Plan.</div>
                    </div>
                    <div class="option" data-question="12" data-option="C" onclick="selectOption(12, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Sage "Ich habe ein Pattern bemerkt. Diese scheinen klein, aber Commitments sind Commitments. Was steht im Weg? Wie k√∂nnen wir dich setuppen, um durchzuziehen?"</div>
                    </div>
                    <div class="option" data-question="12" data-option="D" onclick="selectOption(12, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">H√∂re auf, ihnen Commitments zu geben‚Äîmache die Work einfach selbst.</div>
                    </div>
                </div>
            </div>

            <!-- Question 13: Integrity Under Pressure (Stripe 4) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">13</div>
                    <div class="question-text">
                        Dein CEO fragt dich in einem Board Meeting "K√∂nnen wir dieses Quarter launchen?" Du wei√üt, es ist technisch m√∂glich, 
                        aber w√ºrde erfordern, dass das Team 70-Stunden-Wochen arbeitet. Was sagst du?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="13" data-option="A" onclick="selectOption(13, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">"Ja, wir k√∂nnen es schaffen!" Lass den CEO nicht schlecht vor dem Board aussehen.</div>
                    </div>
                    <div class="option" data-question="13" data-option="B" onclick="selectOption(13, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">"Wir k√∂nnen dieses Quarter launchen, wenn das Team unsustainable Hours arbeitet. Das ist kein Commitment, das ich machen werde. Hier sind sustainable Alternativen."</div>
                    </div>
                    <div class="option" data-question="13" data-option="C" onclick="selectOption(13, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">"Ich checke mit dem Team und lasse es dich nach dem Meeting wissen."</div>
                    </div>
                    <div class="option" data-question="13" data-option="D" onclick="selectOption(13, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">"Wir k√∂nnen eine Reduced-Scope Version dieses Quarter launchen. Das Full Feature Set braucht ein weiteres Quarter."</div>
                    </div>
                </div>
            </div>

            <!-- Question 14: Commitment Culture Signals (Stripe 3) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">14</div>
                    <div class="question-text">
                        Als Leader, welches Behavior signalisiert am KRAFTVOLLSTEN, dass Commitments in deiner Culture z√§hlen?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="14" data-option="A" onclick="selectOption(14, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">E-Mails um 2 Uhr morgens senden, um zu zeigen, dass du h√§rter arbeitest als alle anderen.</div>
                    </div>
                    <div class="option" data-question="14" data-option="B" onclick="selectOption(14, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Public Leute callouten, die Deadlines in Team Meetings verpassen.</div>
                    </div>
                    <div class="option" data-question="14" data-option="C" onclick="selectOption(14, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Wenn du ein Commitment verpasst, es sofort public ownen, erkl√§ren, was passiert ist, und renegotiatieren.</div>
                    </div>
                    <div class="option" data-question="14" data-option="D" onclick="selectOption(14, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Niemals irgendein Commitment verpassen, egal welche pers√∂nlichen Kosten.</div>
                    </div>
                </div>
            </div>

            <!-- Question 15: The Commitment Paradox (Stripe 1) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">15</div>
                    <div class="question-text">
                        Was ist das Paradox im Herzen von High-Commitment Cultures?
                    </div>
                </div>
                <div class="options">
                    <div class="option" data-question="15" data-option="A" onclick="selectOption(15, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Je h√§rter du f√ºr Commitments pushst, desto weniger delivern Leute tats√§chlich.</div>
                    </div>
                    <div class="option" data-question="15" data-option="B" onclick="selectOption(15, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Du buildest Commitment Culture, indem du es safe machst, nein zu sagen und zu renegotiatieren, nicht durch das Bestrafen von gebrochenen Promises.</div>
                    </div>
                    <div class="option" data-question="15" data-option="C" onclick="selectOption(15, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Commitments t√∂ten Innovation, weil sie Flexibility reduzieren.</div>
                    </div>
                    <div class="option" data-question="15" data-option="D" onclick="selectOption(15, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Individuelle Commitments z√§hlen weniger als Team Commitments.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reflektionen Section -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">2</div>
                <div class="section-title">
                    <h2>Reflektionen</h2>
                    <p>3 Prompts ‚Ä¢ Reflektiere √ºber deine Commitment Journey</p>
                </div>
            </div>

            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>1. Commitment Audit:</strong> Denk √ºber die letzten 3 Commitments nach, die du gemacht hast (an dich selbst, dein Team oder Stakeholder). 
                    Wie klar waren sie? Hast du follow-through gemacht? Falls nicht, was kam in den Weg? Welches Pattern siehst du?
                </div>
                <textarea class="reflection-textarea" id="reflection1" placeholder="Deine Reflektion hier..."></textarea>
                <div class="word-count" id="count1">0 W√∂rter</div>
            </div>

            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>2. Capacity Reality:</strong> Wo operierst du aktuell √ºber deine sustainable Capacity hinaus? 
                    Welche Commitment(s) musst du renegotiatieren oder droppen? Was w√ºrde es brauchen, um dieses Gespr√§ch tats√§chlich zu haben?
                </div>
                <textarea class="reflection-textarea" id="reflection2" placeholder="Deine Reflektion hier..."></textarea>
                <div class="word-count" id="count2">0 W√∂rter</div>
            </div>

            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>3. Cultural Assessment:</strong> Auf einer Skala von 1-10, wie w√ºrdest du die Commitment Culture deines Teams/deiner Organisation raten? 
                    Was ist eine spezifische Practice, die du implementieren k√∂nntest, um sie um 2 Punkte zu verbessern?
                </div>
                <textarea class="reflection-textarea" id="reflection3" placeholder="Deine Reflektion hier..."></textarea>
                <div class="word-count" id="count3">0 W√∂rter</div>
            </div>
        </div>

        <!-- Praktische Anwendung Section -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">3</div>
                <div class="section-title">
                    <h2>Praktische Anwendung</h2>
                    <p>Dein Commitment Mastery Action Plan</p>
                </div>
            </div>

            <p style="color: #475569; line-height: 1.8; margin-bottom: 25px;">
                Echte Mastery zeigt sich in dem, was du als N√§chstes tust. Basierend auf deinem Purple Belt Learning mach drei spezifische Commitments 
                unten. Nutze das "What by When by Whom" Framework und sei ehrlich √ºber deine Capacity.
            </p>

            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>Commitment 1 - Personal:</strong> Ein Commitment an dich selbst, um Self-Trust wieder aufzubauen.
                    <br><em>Beispiel: "Ich werde 3x/Woche (Mo/Mi/Fr 6:30 Uhr) f√ºr die n√§chsten 4 Wochen trainieren, ab 27. Nov."</em>
                </div>
                <textarea class="reflection-textarea" id="commitment1" placeholder="Was wirst du tun, bis wann?"></textarea>
            </div>

            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>Commitment 2 - Team:</strong> Ein Commitment, um zu verbessern, wie dein Team Commitments macht und trackt.
                    <br><em>Beispiel: "Ich werde ein 'Commitment Audit' in unserem n√§chsten Team Meeting (1. Dez) durchf√ºhren, um alle Promises sichtbar zu machen und wo n√∂tig zu renegotiatieren."</em>
                </div>
                <textarea class="reflection-textarea" id="commitment2" placeholder="Was wirst du tun, bis wann?"></textarea>
            </div>

            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>Commitment 3 - Capacity:</strong> Eine Sache, zu der du diese Woche nein sagen oder die du renegotiatieren wirst.
                    <br><em>Beispiel: "Ich werde meinem Manager bis Freitag sagen, dass ich die Q4 Roadmap Review bis Jan delayen muss, um mich auf den Product Launch zu fokussieren."</em>
                </div>
                <textarea class="reflection-textarea" id="commitment3" placeholder="Zu was wirst du nein sagen, wann?"></textarea>
            </div>
        </div>

        <!-- Submit Section -->
        <div class="submit-section">
            <h3>Bereit zum Absenden?</h3>
            <p>Stell sicher, dass du alle Fragen beantwortet und die Reflektions-Sektionen vervollst√§ndigt hast.</p>
            <button class="submit-btn" onclick="submitAssessment()">Assessment Absenden</button>
        </div>
    </div>

    <!-- Result Popup -->
    <div class="result-popup" id="resultPopup">
        <div class="result-icon" id="resultIcon">üéâ</div>
        <h2 class="result-title" id="resultTitle">Assessment Abgeschlossen!</h2>
        <p class="result-message" id="resultMessage">Calculating your results...</p>
        <div class="result-xp" id="resultXP">+0 XP</div>
        <button class="result-btn" onclick="closeResult()">Weiter</button>
    </div>

    <div class="overlay" id="overlay"></div>

    <script>
        // Storage keys
        const STORAGE_KEY = 'purpleBeltAssessmentCompleted';
        const XP_KEY = 'purpleBeltAssessmentXP';
        
        // Scoring constants
        const TOTAL_SCENARIOS = 15;
        const PASSING_SCORE = 0.80; // 80% = 12/15 correct
        const ASSESSMENT_XP = 1000;

        // Assessment state
        let scenarioAnswers = {};
        let reflectionAnswers = {};
        let commitmentAnswers = {};

        // Correct answers for scenarios (Purple Belt commitment principles)
        const correctAnswers = {
            1: 'B',  // Vague commitments - clarity is key
            2: 'B',  // Sacred commitments - protect boundaries
            3: 'B',  // Commitment clarity - specific "What by When"
            4: 'C',  // Driving commitment - direct conversation about capacity
            5: 'D',  // Renegotiating early - transparency + options
            6: 'B',  // Commitment culture - psychological safety issue
            7: 'B',  // Public commitments - tracking system
            8: 'B',  // Capacity honesty - state capacity + ask for trade-offs
            9: 'C',  // Self-commitment - eroding self-trust
            10: 'B', // Commitment systems - weekly review ritual
            11: 'B', // When to say no - call client + fix process
            12: 'C', // Building commitment muscle - coach early on small misses
            13: 'B', // Integrity under pressure - reject unsustainable work
            14: 'C', // Culture signals - leader models owning misses
            15: 'B'  // Commitment paradox - safety to say no builds commitment
        };

        function selectOption(questionNum, option) {
            scenarioAnswers[questionNum] = option;
            
            // Update UI
            const options = document.querySelectorAll(`[data-question="${questionNum}"]`);
            options.forEach(opt => {
                opt.classList.remove('selected');
                if (opt.dataset.option === option) {
                    opt.classList.add('selected');
                }
            });

            checkSubmitReady();
        }

        // Update word count for text areas
        function updateWordCount(textareaId, countId) {
            const textarea = document.getElementById(textareaId);
            const text = textarea.value.trim();
            const W√∂rter = text.length > 0 ? text.split(/\s+/).length : 0;
            document.getElementById(countId).textContent = `${W√∂rter} W√∂rter`;
            
            // Store answers
            if (textareaId === 'reflection1') reflectionAnswers[1] = text;
            if (textareaId === 'reflection2') reflectionAnswers[2] = text;
            if (textareaId === 'reflection3') reflectionAnswers[3] = text;
            if (textareaId === 'commitment1') commitmentAnswers[1] = text;
            if (textareaId === 'commitment2') commitmentAnswers[2] = text;
            if (textareaId === 'commitment3') commitmentAnswers[3] = text;
            
            checkSubmitReady();
        }

        // Check if submit button should be enabled
        function checkSubmitReady() {
            const scenariosComplete = Object.keys(scenarioAnswers).length === TOTAL_SCENARIOS;
            const reflectionsComplete = reflectionAnswers[1]?.trim().length > 0 && 
                                       reflectionAnswers[2]?.trim().length > 0 && 
                                       reflectionAnswers[3]?.trim().length > 0;
            const commitmentsComplete = commitmentAnswers[1]?.trim().length > 0 &&
                                       commitmentAnswers[2]?.trim().length > 0 &&
                                       commitmentAnswers[3]?.trim().length > 0;
            
            const submitBtn = document.querySelector('.submit-btn');
            if (scenariosComplete && reflectionsComplete && commitmentsComplete) {
                submitBtn.disabled = false;
            } else {
                submitBtn.disabled = true;
            }
        }

        function submitAssessment() {
            // Check if already completed
            const alreadyCompleted = localStorage.getItem(STORAGE_KEY) === 'true';
            if (alreadyCompleted) {
                showResult('already-passed');
                return;
            }

            // Calculate scenario score
            let correct = 0;
            for (let i = 1; i <= TOTAL_SCENARIOS; i++) {
                if (scenarioAnswers[i] === correctAnswers[i]) {
                    correct++;
                }
            }
            
            const scenarioScore = correct / TOTAL_SCENARIOS;
            const passed = scenarioScore >= PASSING_SCORE;

            // Store completion
            localStorage.setItem(STORAGE_KEY, 'true');
            
            if (passed) {
                // Award XP
                let totalXP = parseInt(localStorage.getItem('totalXP') || '0');
                totalXP += ASSESSMENT_XP;
                localStorage.setItem('totalXP', totalXP.toString());
                localStorage.setItem(XP_KEY, ASSESSMENT_XP.toString());
                
                // Mark Purple Belt as earned
                const beltsEarned = JSON.parse(localStorage.getItem('beltsEarned') || '[]');
                if (!beltsEarned.includes('purple')) {
                    beltsEarned.push('purple');
                    localStorage.setItem('beltsEarned', JSON.stringify(beltsEarned));
                }
                
                // Unlock Brown Belt
                localStorage.setItem('brownBeltUnlocked', 'true');
                
                // Store reflections and commitments for user reference
                localStorage.setItem('purpleBeltReflektionen', JSON.stringify(reflectionAnswers));
                localStorage.setItem('purpleBeltCommitments', JSON.stringify(commitmentAnswers));
                
                showResult('passed', scenarioScore, correct);
            } else {
                showResult('failed', scenarioScore, correct);
            }
        }

        function showResult(type, score = 0, correct = 0) {
            const popup = document.getElementById('resultPopup');
            const overlay = document.getElementById('overlay');
            const icon = document.getElementById('resultIcon');
            const title = document.getElementById('resultTitle');
            const message = document.getElementById('resultMessage');
            const xp = document.getElementById('resultXP');
            
            if (type === 'passed') {
                icon.textContent = 'üü£';
                title.textContent = 'Purple Belt Verdient!';
                message.innerHTML = `Outstanding! You scored ${correct}/15 (${Math.round(score * 100)}%) and have mastered Commitment as a leadership practice.<br><br>
                    Brown Belt (Avoidance of Accountability) ist jetzt freigeschaltet. Your commitment action plan has been saved.`;
                xp.textContent = `+${ASSESSMENT_XP} XP`;
                xp.style.display = 'inline-block';
            } else if (type === 'failed') {
                icon.textContent = 'üìö';
                title.textContent = 'Keep Building';
                message.innerHTML = `You scored ${correct}/15 (${Math.round(score * 100)}%). You need 12/15 (80%) to pass.<br><br>
                    Review the Purple Belt stripes focusing on commitment clarity, capacity management, and cultural systems. You can retake this assessment anytime.`;
                xp.style.display = 'none';
            } else if (type === 'already-passed') {
                icon.textContent = '‚úÖ';
                title.textContent = 'Bereits Abgeschlossen';
                message.textContent = 'You\'ve already earned your Purple Belt! Weiter to Brown Belt.';
                xp.textContent = 'Previously Earned';
                xp.style.display = 'inline-block';
            }
            
            popup.classList.add('show');
            overlay.classList.add('show');
        }

        function closeResult() {
            const passed = localStorage.getItem(STORAGE_KEY) === 'true';
            
            document.getElementById('resultPopup').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
            
            if (passed) {
                window.location.href = 'belt-check.html';
            }
        }

        // Initialize word count listeners
        function init() {
            // Check if already completed
            const completed = localStorage.getItem(STORAGE_KEY);
            if (completed === 'true') {
                console.log('Purple Belt Assessment already completed');
            }

            // Add word count listeners
            ['reflection1', 'reflection2', 'reflection3', 'commitment1', 'commitment2', 'commitment3'].forEach(id => {
                const textarea = document.getElementById(id);
                const countId = id.includes('reflection') ? 
                    `count${id.charAt(id.length-1)}` : 
                    `count${id.charAt(id.length-1)}`;
                
                if (textarea) {
                    textarea.addEventListener('input', () => {
                        // For commitment fields, we don't have separate count divs
                        if (countId.startsWith('count') && document.getElementById(countId)) {
                            updateWordCount(id, countId);
                        } else {
                            updateWordCount(id, null);
                        }
                    });
                }
            });

            // Disable submit initially
            document.querySelector('.submit-btn').disabled = true;
        }

        init();
    </script>

    <!-- Gamification System -->
    <!-- Performance Optimizer - Load First -->
<script src="js/performance-optimizer.min.js"></script>

    <script src="js/gamification.js" defer></script>
    <script src="js/assessment-completion-helper.js" defer></script>
<!-- TAP-IN Utilities -->
<script src="js/shared-utilities.js"></script>
<script src="js/global-error-handler.min.js"></script>
<script src="js/storage-health.min.js"></script>
    <!-- TAP-IN Core Modules -->
    <script src="js/language-switcher.min.js"></script>
    <script src="js/meta-tags-manager.js"></script>
    <script src="js/achievement-badges.js"></script>
    <script src="js/structured-data.js"></script>


    <!-- Focus Management for Accessibility -->
    <script src="js/focus-management.js" defer></script>

    <!-- Screen Reader Enhancements for Accessibility -->
    <script src="js/screen-reader-enhancements.js" defer></script>
</body>
</html>
