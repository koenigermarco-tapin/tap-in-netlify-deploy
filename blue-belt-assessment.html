<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>üîµ Blue Belt Assessment | Tap-In Leadership</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #4a7c9c 0%, #3d6680 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .assessment-header {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border: 3px solid #1e40af;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .belt-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 20px;
            border: 2px solid #60a5fa;
        }

        h1 {
            color: white;
            font-size: 36px;
            margin-bottom: 15px;
        }

        .assessment-intro {
            color: #dbeafe;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .requirements-box {
            background: rgba(255, 255, 255, 0.95);
            border-left: 4px solid #fbbf24;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .requirements-box h3 {
            color: #1e40af;
            margin-bottom: 10px;
        }

        .requirements-box ul {
            color: #1e293b;
            margin-left: 20px;
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e7ff;
        }

        .section-number {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            border: 2px solid #1e40af;
        }

        .section-title {
            flex: 1;
        }

        .section-title h2 {
            color: #1e293b;
            font-size: 24px;
            margin-bottom: 5px;
        }

        .section-title p {
            color: #64748b;
            font-size: 14px;
        }

        .question {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 10px;
            border-left: 4px solid #3b82f6;
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
        }

        .question-number {
            background: #3b82f6;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
            flex-shrink: 0;
        }

        .question-text {
            flex: 1;
            color: #1e293b;
            font-size: 16px;
            line-height: 1.6;
            font-weight: 500;
        }

        .options {
            margin-left: 50px;
        }

        .option {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .option.selected {
            border-color: #3b82f6;
            background: #dbeafe;
        }

        .option-letter {
            background: #e2e8f0;
            color: #475569;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            flex-shrink: 0;
        }

        .option.selected .option-letter {
            background: #3b82f6;
            color: white;
        }

        .option-text {
            color: #475569;
            line-height: 1.5;
        }

        .reflection-prompt {
            margin-bottom: 20px;
        }

        .prompt-text {
            color: #1e293b;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .reflection-textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-family: inherit;
            font-size: 15px;
            line-height: 1.6;
            resize: vertical;
            transition: border-color 0.2s;
        }

        .reflection-textarea:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .word-count {
            text-align: right;
            color: #64748b;
            font-size: 13px;
            margin-top: 5px;
        }

        .submit-section {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border: 2px solid #3b82f6;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
        }

        .submit-section h3 {
            color: #1e40af;
            font-size: 22px;
            margin-bottom: 15px;
        }

        .submit-section p {
            color: #1e293b;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .submit-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 16px 48px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #1e40af;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            border-radius: 20px;
            padding: 50px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 1000;
            max-width: 500px;
            border: 3px solid #3b82f6;
        }

        .result-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            pointer-events: all;
        }

        .result-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 32px;
            color: #1e293b;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .result-message {
            color: #64748b;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .result-xp {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 24px;
            font-weight: 700;
            display: inline-block;
            margin-bottom: 25px;
            border: 2px solid #1e40af;
        }

        .result-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 12px 32px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid #1e40af;
        }

        .result-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 999;
        }

        .overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateX(-4px);
        }

        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            h1 {
                font-size: 28px;
            }

            .assessment-header {
                padding: 25px;
            }

            .section {
                padding: 20px;
            }

            .options {
                margin-left: 0;
            }

            .question-header {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="learning-hub.html" class="back-link">
            ‚Üê Back to Learning Hub
        </a>

        <div class="assessment-header">
            <div class="belt-badge">
                üîµ BLUE BELT ASSESSMENT
            </div>
            <h1>Fear of Conflict Mastery Test</h1>
            <p class="assessment-intro">
                Demonstrate your mastery of productive conflict through scenarios, reflections, and practical application. 
                This comprehensive assessment covers all 4 Blue Belt stripes: Conflict Foundations, Engagement, Facilitation, 
                and Mastery.
            </p>
            
            <div class="requirements-box">
                <h3>‚ö° Assessment Requirements:</h3>
                <ul>
                    <li><strong>15 Scenario Questions:</strong> Multiple-choice scenarios testing conflict concepts (40%)</li>
                    <li><strong>3 Reflective Prompts:</strong> Written reflections on your conflict journey (30%)</li>
                    <li><strong>1 Practical Demonstration:</strong> Design a conflict facilitation intervention (30%)</li>
                    <li><strong>Passing Score:</strong> 80% to earn Blue Belt and unlock Purple Belt</li>
                    <li><strong>Reward:</strong> 750 XP upon successful completion</li>
                    <li><strong>Retry:</strong> 7-day cooldown if you don't pass on first attempt</li>
                </ul>
            </div>
        </div>

        <!-- Section 1: Scenario Questions -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">1</div>
                <div class="section-title">
                    <h2>Scenario Questions</h2>
                    <p>15 questions ‚Ä¢ 40% of score ‚Ä¢ Choose the best response</p>
                </div>
            </div>

            <!-- Question 1: Artificial Harmony (Stripe 1) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">1</div>
                    <div class="question-text">
                        Your team just wrapped a sprint planning meeting where everyone quickly agreed on an aggressive timeline. 
                        As you're leaving, you notice several engineers looking uncomfortable and whispering to each other. 
                        What should you do?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(1, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Nothing‚Äîthey agreed in the meeting, so move forward with the timeline.</div>
                    </div>
                    <div class="option" onclick="selectOption(1, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Send a follow-up Slack asking if anyone has concerns about the timeline.</div>
                    </div>
                    <div class="option" onclick="selectOption(1, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Pull the team back and say "I noticed some discomfort. Let's surface all concerns before we commit."</div>
                    </div>
                    <div class="option" onclick="selectOption(1, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Talk to the uncomfortable engineers 1-on-1 to understand concerns, then bring the team back together if needed.</div>
                    </div>
                </div>
            </div>

            <!-- Question 2: Disagree & Commit (Stripe 2) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">2</div>
                    <div class="question-text">
                        Your team debated two product approaches for an hour. The majority wants Option A, but you strongly 
                        believe Option B is better. The CEO is making the final call and chooses Option A. What's the best response?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(2, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Tell the CEO you disagree and will need to be convinced before you can support it.</div>
                    </div>
                    <div class="option" onclick="selectOption(2, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Say "I disagree but I'll commit. Here's how I'll support Option A moving forward."</div>
                    </div>
                    <div class="option" onclick="selectOption(2, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Stay quiet publicly but tell your team privately that you think it's the wrong call.</div>
                    </div>
                    <div class="option" onclick="selectOption(2, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Ask to revisit the decision in two weeks after you gather more data to support Option B.</div>
                    </div>
                </div>
            </div>

            <!-- Question 3: Conflict Physiology (Stripe 2) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">3</div>
                    <div class="question-text">
                        During a heated design review, you notice your heart racing, your face getting hot, and a strong urge 
                        to interrupt and prove someone wrong. What's the best first step?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(3, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Take three deep breaths, acknowledge internally that you're activated, then choose your response consciously.</div>
                    </div>
                    <div class="option" onclick="selectOption(3, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Interrupt immediately to make your point before you forget it.</div>
                    </div>
                    <div class="option" onclick="selectOption(3, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Excuse yourself from the meeting to cool down completely.</div>
                    </div>
                    <div class="option" onclick="selectOption(3, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Push through the discomfort and stay in the debate‚Äîconflict requires staying engaged.</div>
                    </div>
                </div>
            </div>

            <!-- Question 4: Mining for Conflict (Stripe 3) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">4</div>
                    <div class="question-text">
                        You're facilitating a product roadmap discussion. Three people have spoken strongly in favor of Feature X. 
                        Four people haven't said anything yet. What's the best mining technique?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(4, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Move forward‚Äîsilence usually means agreement.</div>
                    </div>
                    <div class="option" onclick="selectOption(4, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Say "Let's hear from people who haven't spoken yet. Jordan, what do you think?"</div>
                    </div>
                    <div class="option" onclick="selectOption(4, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Assign someone to play devil's advocate and argue against Feature X.</div>
                    </div>
                    <div class="option" onclick="selectOption(4, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Pause and say "This consensus came quickly. What concerns might we be missing about Feature X?"</div>
                    </div>
                </div>
            </div>

            <!-- Question 5: Real-Time Facilitation (Stripe 3) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">5</div>
                    <div class="question-text">
                        Two team members are in a heated debate about technical architecture. One person keeps interrupting 
                        the other, and the conversation is becoming personal ("You never listen to engineers!"). How do you intervene?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(5, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Let them work it out‚Äîthey're both adults and can manage conflict themselves.</div>
                    </div>
                    <div class="option" onclick="selectOption(5, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Say "Let's pause. We're debating ideas, not people. What's the core technical tradeoff we're trying to solve?"</div>
                    </div>
                    <div class="option" onclick="selectOption(5, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">End the meeting immediately and send them both an email about professional conduct.</div>
                    </div>
                    <div class="option" onclick="selectOption(5, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Take sides with whoever has the better technical argument to resolve the conflict quickly.</div>
                    </div>
                </div>
            </div>

            <!-- Question 6: 7-Step Resolution Process (Stripe 3) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">6</div>
                    <div class="question-text">
                        Product and Engineering are locked in disagreement about whether to prioritize new features or pay down 
                        tech debt. As the facilitator, what should you do first in the 7-step resolution process?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(6, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Ask both sides to surface their positions and debate until consensus emerges.</div>
                    </div>
                    <div class="option" onclick="selectOption(6, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Generate multiple options that blend both features and tech debt work.</div>
                    </div>
                    <div class="option" onclick="selectOption(6, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Define the decision method (who decides) and set time boundaries for the discussion.</div>
                    </div>
                    <div class="option" onclick="selectOption(6, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Explore the underlying interests driving each position (speed to market vs. system stability).</div>
                    </div>
                </div>
            </div>

            <!-- Question 7: Coaching Conflict (Stripe 4) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">7</div>
                    <div class="question-text">
                        A team member comes to you: "I can't work with Sarah anymore. She's blocking all my PRs with nitpicky 
                        comments." What's the best coaching response?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(7, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Say "Let me talk to Sarah and tell her to ease up on the reviews."</div>
                    </div>
                    <div class="option" onclick="selectOption(7, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Ask "What do you think Sarah cares about in those reviews? What do you care about? How could you talk to her about finding a balance?"</div>
                    </div>
                    <div class="option" onclick="selectOption(7, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Tell them to write cleaner code so Sarah won't have as many comments.</div>
                    </div>
                    <div class="option" onclick="selectOption(7, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Reassign them to different projects so they don't have to work together.</div>
                    </div>
                </div>
            </div>

            <!-- Question 8: High-Stakes Conflict (Stripe 4) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">8</div>
                    <div class="question-text">
                        The exec team must decide on layoffs (20% of staff). The CFO says it's necessary for survival. 
                        The CTO says it will kill critical projects. As CEO facilitating this, what principle matters most?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(8, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Move fast‚Äîin high-stakes conflicts, speed is essential to reduce uncertainty.</div>
                    </div>
                    <div class="option" onclick="selectOption(8, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Slow down to speed up‚Äîalign on process (how we'll decide) before diving into content (what to decide).</div>
                    </div>
                    <div class="option" onclick="selectOption(8, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Take a vote so everyone feels their voice was heard equally.</div>
                    </div>
                    <div class="option" onclick="selectOption(8, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Bring in a neutral third-party consultant to make the decision for you.</div>
                    </div>
                </div>
            </div>

            <!-- Question 9: Conflict Continuum (Stripe 1) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">9</div>
                    <div class="question-text">
                        Two engineers have different coding style preferences. One prefers functional programming, the other 
                        object-oriented. They're debating which to use. Where does this fall on the conflict continuum?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(9, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Destructive conflict‚Äîpersonal preferences shouldn't create disagreement.</div>
                    </div>
                    <div class="option" onclick="selectOption(9, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Productive conflict‚Äîthey're debating technical tradeoffs that matter for code quality and maintainability.</div>
                    </div>
                    <div class="option" onclick="selectOption(9, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Artificial harmony‚Äîthey should avoid this debate and just pick one standard.</div>
                    </div>
                    <div class="option" onclick="selectOption(9, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Mean-spirited conflict‚Äîthey're attacking each other's competence.</div>
                    </div>
                </div>
            </div>

            <!-- Question 10: Avoidance Cascades (Stripe 1) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">10</div>
                    <div class="question-text">
                        You avoided giving critical feedback to an underperforming team member because you didn't want to hurt 
                        their feelings. Three months later, their work quality has declined further and they're surprised when 
                        you bring it up. What happened?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(10, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">The team member should have known they were underperforming without being told.</div>
                    </div>
                    <div class="option" onclick="selectOption(10, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Avoidance cascade‚Äîavoiding conflict created a bigger problem (performance gap + trust damage).</div>
                    </div>
                    <div class="option" onclick="selectOption(10, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">You gave them enough time to self-correct, which was the right approach.</div>
                    </div>
                    <div class="option" onclick="selectOption(10, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">The team member is at fault for not asking for feedback proactively.</div>
                    </div>
                </div>
            </div>

            <!-- Question 11: Spar-&-Solve (Stripe 2) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">11</div>
                    <div class="question-text">
                        You're using Spar-&-Solve to debate two product directions with a colleague. You've both shared your 
                        positions and debated for 10 minutes. What comes next in the technique?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(11, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Keep debating until one person convinces the other they're right.</div>
                    </div>
                    <div class="option" onclick="selectOption(11, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Switch perspectives‚Äîyou argue for their position, they argue for yours.</div>
                    </div>
                    <div class="option" onclick="selectOption(11, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Take a vote to decide which direction to pursue.</div>
                    </div>
                    <div class="option" onclick="selectOption(11, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">End the debate and defer to whoever has more seniority.</div>
                    </div>
                </div>
            </div>

            <!-- Question 12: Conflict Norms Canvas (Stripe 3) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">12</div>
                    <div class="question-text">
                        Your team created a Conflict Norms Canvas three months ago, but no one references it anymore and people 
                        have fallen back into old patterns. What's the best fix?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(12, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">The canvas didn't work‚Äîabandon it and try a different approach.</div>
                    </div>
                    <div class="option" onclick="selectOption(12, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Make the canvas visible in meetings and reference it when conflict happens: "Remember we agreed to..."</div>
                    </div>
                    <div class="option" onclick="selectOption(12, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Remind the team about the canvas via email once a month.</div>
                    </div>
                    <div class="option" onclick="selectOption(12, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Blame the team for not following the norms they agreed to.</div>
                    </div>
                </div>
            </div>

            <!-- Question 13: Cross-Cultural Conflict (Stripe 4) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">13</div>
                    <div class="question-text">
                        You're facilitating a conflict between a U.S. team member (direct communication culture) and a Japanese 
                        team member (indirect communication culture). The U.S. person says "Why didn't you just say you disagreed 
                        in the meeting?" What should you do?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(13, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Tell the Japanese team member they need to adapt to U.S. norms since that's the company culture.</div>
                    </div>
                    <div class="option" onclick="selectOption(13, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Explain cultural differences to both, then create a hybrid process (open debate + 1-on-1 follow-ups).</div>
                    </div>
                    <div class="option" onclick="selectOption(13, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Tell the U.S. team member to be more sensitive and read between the lines better.</div>
                    </div>
                    <div class="option" onclick="selectOption(13, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Avoid addressing the cultural difference and focus only on the technical disagreement.</div>
                    </div>
                </div>
            </div>

            <!-- Question 14: Expressing Disagreement (Stripe 2) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">14</div>
                    <div class="question-text">
                        You strongly disagree with your manager's decision to cut QA resources. Which is the most skillful way 
                        to express disagreement?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(14, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">"I disagree with cutting QA. Here's my concern: we'll ship more bugs and damage customer trust. Can we discuss alternatives?"</div>
                    </div>
                    <div class="option" onclick="selectOption(14, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">"That's a terrible idea. Every good engineering team knows QA is essential."</div>
                    </div>
                    <div class="option" onclick="selectOption(14, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Say nothing in the meeting, then complain to your team about the bad decision.</div>
                    </div>
                    <div class="option" onclick="selectOption(14, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">"I'm not sure that will work, but you're the manager so whatever you think is best."</div>
                    </div>
                </div>
            </div>

            <!-- Question 15: Productive vs Destructive (Stripe 1) -->
            <div class="question">
                <div class="question-header">
                    <div class="question-number">15</div>
                    <div class="question-text">
                        Two teammates are debating whether to refactor legacy code. One says "You always want to over-engineer 
                        everything because you can't ship fast." The other responds "You always cut corners because you don't 
                        care about quality." What type of conflict is this?
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(15, 'A')">
                        <div class="option-letter">A</div>
                        <div class="option-text">Productive conflict‚Äîthey're passionately debating an important technical tradeoff.</div>
                    </div>
                    <div class="option" onclick="selectOption(15, 'B')">
                        <div class="option-letter">B</div>
                        <div class="option-text">Destructive conflict‚Äîthey've shifted from debating the decision to attacking character and motives.</div>
                    </div>
                    <div class="option" onclick="selectOption(15, 'C')">
                        <div class="option-letter">C</div>
                        <div class="option-text">Artificial harmony‚Äîthey're avoiding the real disagreement about code quality standards.</div>
                    </div>
                    <div class="option" onclick="selectOption(15, 'D')">
                        <div class="option-letter">D</div>
                        <div class="option-text">Healthy debate‚Äîstrong language shows they care about getting the right answer.</div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Section 2: Reflective Prompts -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">2</div>
                <div class="section-title">
                    <h2>Reflective Prompts</h2>
                    <p>3 prompts ‚Ä¢ 30% of score ‚Ä¢ 200-300 words each</p>
                </div>
            </div>

            <!-- Reflection 1: Personal Journey -->
            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>Reflection 1: Your Conflict Journey</strong><br><br>
                    Reflect on how your relationship with conflict has changed through the Blue Belt modules. What was your 
                    biggest "aha moment" or mindset shift? How has your default response to disagreement evolved? Be specific 
                    about a concept or technique that changed how you think about conflict.
                </div>
                <textarea 
                    class="reflection-textarea" 
                    id="reflection1"
                    placeholder="Share your personal journey with conflict... (200-300 words)"
                    oninput="updateWordCount('reflection1', 'wordCount1')"
                ></textarea>
                <div class="word-count" id="wordCount1">0 words</div>
            </div>

            <!-- Reflection 2: Challenging Experience -->
            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>Reflection 2: Your Most Challenging Conflict</strong><br><br>
                    Describe a difficult conflict you navigated (or attempted to navigate) during or after learning Blue Belt 
                    concepts. What made it challenging? Which techniques did you use? What worked? What would you do differently 
                    now? Focus on specific behaviors and outcomes, not vague generalizations.
                </div>
                <textarea 
                    class="reflection-textarea" 
                    id="reflection2"
                    placeholder="Describe your challenging conflict experience... (200-300 words)"
                    oninput="updateWordCount('reflection2', 'wordCount2')"
                ></textarea>
                <div class="word-count" id="wordCount2">0 words</div>
            </div>

            <!-- Reflection 3: Team Impact -->
            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>Reflection 3: Team Transformation</strong><br><br>
                    How has your team's approach to conflict shifted as you've applied Blue Belt concepts? Give a concrete 
                    example of a conflict that would have played out differently six months ago versus now. What specific 
                    behaviors or norms have changed? If your team hasn't shifted yet, what's one experiment you'll run to 
                    improve conflict competence?
                </div>
                <textarea 
                    class="reflection-textarea" 
                    id="reflection3"
                    placeholder="Share how your team's conflict dynamics have evolved... (200-300 words)"
                    oninput="updateWordCount('reflection3', 'wordCount3')"
                ></textarea>
                <div class="word-count" id="wordCount3">0 words</div>
            </div>
        </div>

        <!-- Section 3: Practical Demonstration -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">3</div>
                <div class="section-title">
                    <h2>Practical Demonstration</h2>
                    <p>1 scenario ‚Ä¢ 30% of score ‚Ä¢ 300-400 words</p>
                </div>
            </div>

            <div class="reflection-prompt">
                <div class="prompt-text">
                    <strong>Design a Conflict Facilitation Intervention</strong><br><br>
                    
                    <strong>Scenario:</strong> You're leading a product team where Product and Engineering have been in ongoing 
                    tension for three months. Product says Engineering is too slow and always pushes back on features. Engineering 
                    says Product doesn't understand technical constraints and keeps changing requirements. The tension is now 
                    affecting team morale‚Äîpeople are avoiding meetings, making snarky comments in Slack, and the CEO has noticed 
                    the dysfunction.
                    <br><br>
                    <strong>Your Task:</strong> Design a facilitation plan to address this conflict. In 300-400 words, describe:
                    <ul style="margin: 10px 0 10px 20px; color: #1e293b;">
                        <li>How you'll prepare for the conversation (pre-work, stakeholder alignment, etc.)</li>
                        <li>How you'll frame the conversation when you bring Product and Engineering together</li>
                        <li>Which specific Blue Belt techniques you'll use and why (mining, 7-step process, conflict norms, etc.)</li>
                        <li>How you'll get concrete commitments and prevent the conflict from resurfacing</li>
                        <li>How you'll know if your intervention worked (measurable outcomes)</li>
                    </ul>
                    <strong>Be specific:</strong> Don't just say "I'll facilitate a conversation." Explain exactly what you'll do, 
                    what you'll say, and why you chose those techniques for this situation.
                </div>
                <textarea 
                    class="reflection-textarea" 
                    id="practical"
                    style="min-height: 300px;"
                    placeholder="Design your conflict facilitation plan... (300-400 words)"
                    oninput="updateWordCount('practical', 'wordCountPractical')"
                ></textarea>
                <div class="word-count" id="wordCountPractical">0 words</div>
            </div>
        </div>

        <!-- Submit Section -->
        <div class="submit-section">
            <h3>Ready to Submit?</h3>
            <p>
                Review all your answers carefully before submitting. You need 80% to pass and earn your Blue Belt.
            </p>
            <button class="submit-btn" onclick="submitAssessment()" disabled>
                Submit Assessment
            </button>
        </div>
    </div>

    <!-- Result Popup -->
    <div class="overlay" id="overlay"></div>
    <div class="result-popup" id="resultPopup">
        <div class="result-icon" id="resultIcon">üéâ</div>
        <div class="result-title" id="resultTitle">Assessment Complete!</div>
        <div class="result-message" id="resultMessage">Calculating your score...</div>
        <div class="result-xp" id="resultXP">+0 XP</div>
        <button class="result-btn" onclick="closeResult()">Continue</button>
    </div>

    <script>
        // Assessment state
        const TOTAL_SCENARIOS = 15;
        const TOTAL_REFLECTIONS = 3;
        const PASSING_SCORE = 0.80;
        const ASSESSMENT_XP = 750;
        
        let scenarioAnswers = {};
        let reflectionAnswers = {};
        let practicalAnswer = '';

        // Correct answers for scenarios
        const correctAnswers = {
            1: 'C',  // Mining - pull team back to surface concerns
            2: 'B',  // Disagree & Commit
            3: 'A',  // Manage physiology - breathe and choose response
            4: 'D',  // Mining - pause and surface concerns
            5: 'B',  // Real-time facilitation - redirect to ideas
            6: 'C',  // 7-step process - define decision method first
            7: 'B',  // Coaching - ask questions, don't solve
            8: 'B',  // High-stakes - slow down to speed up
            9: 'B',  // Productive conflict - technical tradeoffs
            10: 'B', // Avoidance cascade
            11: 'B', // Spar-&-Solve - switch perspectives
            12: 'B', // Conflict norms - make visible and reference
            13: 'B', // Cross-cultural - create hybrid process
            14: 'A', // Express disagreement skillfully
            15: 'B'  // Destructive conflict - attacking character
        };

        // Select option for scenario questions
        function selectOption(questionNum, optionLetter) {
            // Find the question div
            const questionDivs = document.querySelectorAll('.question');
            let targetQuestion = null;
            
            questionDivs.forEach(q => {
                const qNum = q.querySelector('.question-number');
                if (qNum && qNum.textContent.trim() === String(questionNum)) {
                    targetQuestion = q;
                }
            });
            
            if (!targetQuestion) return;
            
            // Remove previous selections
            targetQuestion.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selection to clicked option
            const options = targetQuestion.querySelectorAll('.option');
            options.forEach(opt => {
                const letter = opt.querySelector('.option-letter').textContent;
                if (letter === optionLetter) {
                    opt.classList.add('selected');
                }
            });
            
            // Store answer
            scenarioAnswers[questionNum] = optionLetter;
            
            // Enable submit if all questions answered
            checkSubmitReady();
        }

        // Update word count for text areas
        function updateWordCount(textareaId, countId) {
            const textarea = document.getElementById(textareaId);
            const text = textarea.value.trim();
            const words = text.length > 0 ? text.split(/\s+/).length : 0;
            document.getElementById(countId).textContent = `${words} words`;
            
            // Store reflection/practical answers
            if (textareaId === 'reflection1') reflectionAnswers[1] = text;
            if (textareaId === 'reflection2') reflectionAnswers[2] = text;
            if (textareaId === 'reflection3') reflectionAnswers[3] = text;
            if (textareaId === 'practical') practicalAnswer = text;
            
            checkSubmitReady();
        }

        // Check if submit button should be enabled
        function checkSubmitReady() {
            const scenariosComplete = Object.keys(scenarioAnswers).length === TOTAL_SCENARIOS;
            const reflectionsComplete = Object.keys(reflectionAnswers).length === TOTAL_REFLECTIONS && 
                                       reflectionAnswers[1] && reflectionAnswers[2] && reflectionAnswers[3];
            const practicalComplete = practicalAnswer.trim().length > 0;
            
            const submitBtn = document.querySelector('.submit-btn');
            if (scenariosComplete && reflectionsComplete && practicalComplete) {
                submitBtn.disabled = false;
            } else {
                submitBtn.disabled = true;
            }
        }

        function submitAssessment() {
            // Check if already passed
            const alreadyPassed = localStorage.getItem('blueBeltPassed') === 'true';
            if (alreadyPassed) {
                showResult('already-passed');
                return;
            }
            
            // Check retry cooldown
            const lastAttempt = localStorage.getItem('blueBeltLastAttempt');
            if (lastAttempt) {
                const daysSince = (Date.now() - parseInt(lastAttempt)) / (1000 * 60 * 60 * 24);
                if (daysSince < 7) {
                    const daysLeft = Math.ceil(7 - daysSince);
                    alert(`You need to wait ${daysLeft} more day(s) before retrying the assessment.`);
                    return;
                }
            }
            
            // Calculate scores
            const scenarioScore = calculateScenarioScore();
            const reflectionScore = calculateReflectionScore();
            const practicalScore = calculatePracticalScore();
            
            // Weighted total (40% scenarios, 30% reflections, 30% practical)
            const totalScore = (scenarioScore * 0.4) + (reflectionScore * 0.3) + (practicalScore * 0.3);
            
            // Store attempt
            localStorage.setItem('blueBeltLastAttempt', Date.now().toString());
            
            // Check if passed
            if (totalScore >= PASSING_SCORE) {
                // Mark as passed
                localStorage.setItem('blueBeltPassed', 'true');
                
                // Award XP
                let totalXP = parseInt(localStorage.getItem('totalXP') || '0');
                totalXP += ASSESSMENT_XP;
                localStorage.setItem('totalXP', totalXP.toString());
                
                // Add Blue Belt to earned belts
                const beltsEarned = JSON.parse(localStorage.getItem('beltsEarned') || '[]');
                if (!beltsEarned.includes('blue')) {
                    beltsEarned.push('blue');
                    localStorage.setItem('beltsEarned', JSON.stringify(beltsEarned));
                }
                
                showResult('passed', totalScore);
            } else {
                showResult('failed', totalScore);
            }
        }
        
        function calculateScenarioScore() {
            let correct = 0;
            for (let i = 1; i <= TOTAL_SCENARIOS; i++) {
                if (scenarioAnswers[i] === correctAnswers[i]) {
                    correct++;
                }
            }
            return correct / TOTAL_SCENARIOS;
        }
        
        function calculateReflectionScore() {
            // Score reflections based on word count (basic rubric)
            let totalScore = 0;
            
            for (let i = 1; i <= TOTAL_REFLECTIONS; i++) {
                const text = reflectionAnswers[i] || '';
                const words = text.trim().split(/\s+/).length;
                
                if (words >= 200 && words <= 350) {
                    // Good length, assume quality (in real assessment, would need human review)
                    totalScore += 0.9; // 90% for hitting word count
                } else if (words >= 150 && words < 200) {
                    totalScore += 0.7; // 70% for slightly short
                } else if (words > 350 && words <= 400) {
                    totalScore += 0.8; // 80% for slightly long
                } else if (words > 0) {
                    totalScore += 0.5; // 50% for effort but too short/long
                }
            }
            
            return totalScore / TOTAL_REFLECTIONS;
        }
        
        function calculatePracticalScore() {
            const text = practicalAnswer || '';
            const words = text.trim().split(/\s+/).length;
            
            // Check for key concepts (simple keyword matching - in real assessment would need human review)
            const hasPreparation = /prepare|pre-work|stakeholder|align/i.test(text);
            const hasFraming = /frame|conversation|meeting|facilitate/i.test(text);
            const hasTechniques = /mining|7-step|conflict norm|disagree|commit/i.test(text);
            const hasCommitment = /commit|follow.?up|accountab/i.test(text);
            const hasMeasurement = /measure|metric|outcome|success|know if/i.test(text);
            
            let score = 0;
            
            // Word count (30%)
            if (words >= 300 && words <= 450) {
                score += 0.3;
            } else if (words >= 250 && words < 300) {
                score += 0.2;
            } else if (words > 450 && words <= 500) {
                score += 0.25;
            } else if (words > 0) {
                score += 0.1;
            }
            
            // Key concepts (70% - 14% each)
            if (hasPreparation) score += 0.14;
            if (hasFraming) score += 0.14;
            if (hasTechniques) score += 0.14;
            if (hasCommitment) score += 0.14;
            if (hasMeasurement) score += 0.14;
            
            return Math.min(score, 1.0); // Cap at 100%
        }
        
        function showResult(type, score = 0) {
            const popup = document.getElementById('resultPopup');
            const overlay = document.getElementById('overlay');
            const icon = document.getElementById('resultIcon');
            const title = document.getElementById('resultTitle');
            const message = document.getElementById('resultMessage');
            const xp = document.getElementById('resultXP');
            
            if (type === 'passed') {
                icon.textContent = 'üéâ';
                title.textContent = 'Blue Belt Earned!';
                message.innerHTML = `Congratulations! You scored ${Math.round(score * 100)}% and have mastered Fear of Conflict.<br><br>
                    Purple Belt (Lack of Commitment) is now unlocked. Continue your journey through the 5 Dysfunctions!`;
                xp.textContent = `+${ASSESSMENT_XP} XP`;
                xp.style.display = 'inline-block';
            } else if (type === 'failed') {
                icon.textContent = 'üìö';
                title.textContent = 'Keep Learning';
                message.innerHTML = `You scored ${Math.round(score * 100)}%. You need 80% to pass.<br><br>
                    Review the Blue Belt modules and try again in 7 days. Focus on the concepts you missed.`;
                xp.style.display = 'none';
            } else if (type === 'already-passed') {
                icon.textContent = '‚úÖ';
                title.textContent = 'Already Completed';
                message.textContent = 'You\'ve already earned your Blue Belt! Continue to Purple Belt.';
                xp.textContent = 'No Additional XP';
                xp.style.display = 'inline-block';
            }
            
            popup.classList.add('show');
            overlay.classList.add('show');
        }

        function closeResult() {
            const passed = localStorage.getItem('blueBeltPassed') === 'true';
            
            document.getElementById('resultPopup').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
            
            if (passed) {
                // Redirect to learning hub to see Purple Belt unlocked
                window.location.href = 'learning-hub.html';
            }
        }

        // Initialize
        console.log('Blue Belt Assessment loaded - all content ready');
    </script>

    <!-- Gamification System -->
    <!-- Performance Optimizer - Load First -->
<script src="js/performance-optimizer.js"></script>

    <script src="js/gamification.js" defer></script>
    <script src="js/assessment-completion-helper.js" defer></script>
</body>
</html>
