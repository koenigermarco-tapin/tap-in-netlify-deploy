<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#2d2d2d">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="version" content="3.0.0">
    <title>Team Dynamics Assessment - TAP-IN</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%); min-height: 100vh; padding: 20px; color: #333; }
        .container { max-width: 900px; margin: 0 auto; background: white; border-radius: 20px; padding: 40px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); }
        .header { text-align: center; margin-bottom: 40px; padding-bottom: 30px; border-bottom: 3px solid #f0f0f0; }
        .header h1 { color: #a93226; font-size: 2.5em; margin-bottom: 15px; }
        .header .subtitle { color: #666; font-size: 1.2em; margin-bottom: 10px; line-height: 1.6; }
        .header .note { color: #999; font-size: 0.95em; }
        .intro-section { background: #f8f9fa; padding: 25px; border-radius: 12px; margin-bottom: 30px; border-left: 4px solid #a93226; }
        .intro-section h3 { color: #333; margin-bottom: 15px; }
        .intro-section p { color: #666; line-height: 1.7; margin-bottom: 10px; }
        .progress-container { background: white; border-radius: 15px; padding: 20px; margin-bottom: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 20px; z-index: 100; }
        .progress-bar { background: #e0e0e0; border-radius: 10px; height: 12px; overflow: hidden; margin-bottom: 10px; }
        .progress-fill { background: linear-gradient(90deg, #a93226 0%, #c9513f 100%); height: 100%; width: 0%; transition: width 0.3s ease; }
        .progress-text { text-align: center; color: #666; font-size: 0.95em; }
        .assessment-card { background: #f8f9fa; border-radius: 12px; padding: 25px; margin-bottom: 30px; }
        .section-header { background: linear-gradient(135deg, #a93226 0%, #7a241b 100%); color: white; padding: 15px 20px; border-radius: 10px; margin-bottom: 20px; }
        .section-desc { color: #666; margin-bottom: 25px; font-style: italic; line-height: 1.6; }
        .question { margin-bottom: 30px; }
        .question-text { color: #333; font-size: clamp(1.05em, 2.5vw, 1.2em); margin-bottom: 18px; font-weight: 500; line-height: 1.5; }
        .scale-options { display: flex; justify-content: space-between; align-items: flex-end; gap: 2px; flex-wrap: nowrap; height: 140px; position: relative; background: linear-gradient(to top right, rgba(169, 50, 38, 0.1) 0%, rgba(169, 50, 38, 0.05) 50%, transparent 50%); border-radius: 8px; padding: 5px; cursor: pointer; user-select: none; }
        .scale-option { flex: 1; display: flex; flex-direction: column; justify-content: flex-end; align-items: center; background: linear-gradient(135deg, rgba(169, 50, 38, 0.15) 0%, rgba(169, 50, 38, 0.1) 100%); border: 2px solid transparent; border-radius: 6px; transition: all 0.15s ease; position: relative; z-index: 1; }
        .scale-option:nth-child(1) { height: 50px; }
        .scale-option:nth-child(2) { height: 70px; }
        .scale-option:nth-child(3) { height: 90px; }
        .scale-option:nth-child(4) { height: 110px; }
        .scale-option:nth-child(5) { height: 130px; }
        .scale-option input[type="radio"] { display: none; }
        .scale-option.active, .scale-option.selected { background: linear-gradient(135deg, #a93226 0%, #c9513f 100%); color: white; border-color: #7a241b; box-shadow: 0 2px 8px rgba(169, 50, 38, 0.4); }
        .scale-option.active ~ .scale-option { background: linear-gradient(135deg, rgba(169, 50, 38, 0.15) 0%, rgba(169, 50, 38, 0.1) 100%); color: #333; }
        .scale-options:active { cursor: grabbing; }
        .scale-value { font-size: 1.3em; font-weight: bold; margin-bottom: 4px; pointer-events: none; }
        .scale-label { font-size: 0.7em; opacity: 0.7; text-align: center; padding: 0 3px; margin-bottom: 6px; pointer-events: none; white-space: nowrap; }
        .scale-option.active .scale-label, .scale-option.selected .scale-label { opacity: 1; font-weight: 600; }
        .scale-option.active .scale-value, .scale-option.selected .scale-value { transform: scale(1.1); }
        .insight-card { background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-left: 4px solid #a93226; padding: 20px; margin: 20px 0; border-radius: 10px; animation: slideIn 0.4s ease; }
        .insight-card .insight-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
        .insight-card .insight-icon { font-size: 1.5em; }
        .insight-card .insight-title { color: #a93226; font-weight: bold; font-size: 1.1em; }
        .insight-card .insight-content { color: #555; line-height: 1.6; font-size: 0.95em; }
        .insight-card .insight-quote { font-style: italic; color: #666; margin-top: 10px; padding-top: 10px; border-top: 1px solid #ddd; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .nav-buttons { display: flex; justify-content: space-between; gap: 15px; margin-top: 30px; }
        .btn { padding: 15px 35px; border: none; border-radius: 10px; font-size: 1.1em; font-weight: bold; cursor: pointer; transition: all 0.2s; text-decoration: none; display: inline-block; text-align: center; }
        .btn-primary { background: linear-gradient(135deg, #a93226 0%, #7a241b 100%); color: white; }
        .btn-primary:hover:not(:disabled) { transform: scale(1.05); box-shadow: 0 5px 20px rgba(169, 50, 38, 0.4); }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-secondary { background: #e0e0e0; color: #333; }
        .btn-secondary:hover { background: #d0d0d0; }
        .results { display: none; }
        .results.active { display: block; }
        .overall-score { background: linear-gradient(135deg, #a93226 0%, #7a241b 100%); color: white; border-radius: 20px; padding: 40px; text-align: center; margin-bottom: 30px; }
        .overall-score h2 { font-size: clamp(2em, 5vw, 3em); margin-bottom: 15px; }
        .overall-score .score { font-size: clamp(3em, 8vw, 5em); font-weight: bold; margin-bottom: 15px; }
        .score-section { background: #f8f9fa; border-radius: 15px; padding: 25px; margin-bottom: 25px; border-left: 5px solid #a93226; }
        .score-section h3 { color: #a93226; margin-bottom: 15px; font-size: 1.4em; }
        .score-display { font-size: 2em; font-weight: bold; color: #a93226; margin-bottom: 10px; }
        .score-bar { background: #e0e0e0; height: 20px; border-radius: 10px; overflow: hidden; margin-bottom: 15px; }
        .score-bar-fill { background: linear-gradient(90deg, #a93226 0%, #c9513f 100%); height: 100%; transition: width 0.5s ease; }
        .score-interpretation { color: #666; line-height: 1.7; margin-bottom: 15px; }
        .recommendation { background: white; padding: 20px; border-radius: 10px; margin-top: 15px; }
        .recommendation h4 { color: #333; margin-bottom: 10px; }
        .recommendation p { color: #666; line-height: 1.6; }
        .cta-box { background: linear-gradient(135deg, #a93226 0%, #7a241b 100%); color: white; border-radius: 15px; padding: 30px; text-align: center; margin-top: 30px; }
        .cta-box h3 { margin-bottom: 15px; font-size: 1.6em; }
        .cta-box p { margin-bottom: 20px; opacity: 0.95; }
        .hidden { display: none; }
        
        /* Lencioni's 5 Dysfunctions Banner */
        .stats-banner { 
            background: linear-gradient(135deg, #a93226 0%, #7a241b 100%); 
            color: white; 
            padding: 20px; 
            border-radius: 12px; 
            display: flex; 
            justify-content: space-around; 
            align-items: center; 
            gap: 15px; 
            margin-bottom: 30px; 
            flex-wrap: wrap;
            box-shadow: 0 4px 15px rgba(169, 50, 38, 0.3);
        }
        .stats-banner .stat-item { 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            gap: 8px;
            text-align: center;
            min-width: 80px;
        }
        .stats-banner .stat-number { 
            font-size: 1.4em; 
            font-weight: bold; 
        }
        .stats-banner .stat-label { 
            opacity: 0.95;
            font-size: 0.9em;
            font-weight: 500;
        }
        
        @media (max-width: 768px) { .header, .assessment-card { padding: 25px 20px; } .scale-options { gap: 8px; } .scale-option { min-width: 60px; padding: 12px 8px; } .nav-buttons { flex-direction: column; } .btn { width: 100%; } .overall-score { padding: 30px 20px; } .stats-banner { gap: 15px; font-size: 0.85em; } }
    </style>
            </head>
            <body>
    <!-- language switcher (EN / DE) -->
    <div id="lang-switch" style="position:fixed;top:16px;right:16px;z-index:1200;font-family:inherit;">
        <div style="background:white;border-radius:999px;padding:8px 12px;box-shadow:0 6px 20px rgba(0,0,0,0.15);font-size:0.95em;">
            <a href="team-assessment-enhanced-v2.html" style="color:#a93226;text-decoration:none;font-weight:700;margin-right:10px;">EN</a>
            <a href="team-assessment-enhanced-v2.de.html" style="color:#333;text-decoration:none;font-weight:700;border-left:1px solid #eee;padding-left:10px;margin-left:10px;">DE</a>
        </div>
    </div>
                <div class="container">
                    <!-- Stats Banner -->
                    <!-- Lencioni's 5 Dysfunctions Framework -->
                    <div class="stats-banner">
                        <div class="stat-item">
                            <span style="font-size: 1.8em;">üõ°Ô∏è</span>
                            <div class="stat-label">Trust</div>
                        </div>
                        <div class="stat-item">
                            <span style="font-size: 1.8em;">‚öîÔ∏è</span>
                            <div class="stat-label">Conflict</div>
                        </div>
                        <div class="stat-item">
                            <span style="font-size: 1.8em;">üéØ</span>
                            <div class="stat-label">Commitment</div>
                        </div>
                        <div class="stat-item">
                            <span style="font-size: 1.8em;">‚úì</span>
                            <div class="stat-label">Accountability</div>
                        </div>
                        <div class="stat-item">
                            <span style="font-size: 1.8em;">ÔøΩ</span>
                            <div class="stat-label">Results</div>
                        </div>
                    </div>
                        </div>
                    </div>

                    <!-- Header -->
                    <div class="header">
                        <h1>ü§ù Team Dynamics Assessment</h1>
                        <p class="subtitle">Uncover your team's hidden performance blockers based on Patrick Lencioni's 5 Dysfunctions model. Answer honestly for the most accurate insights.</p>
                        <div class="note">
                            <strong>‚è±Ô∏è 7 minutes</strong> ‚Ä¢ 20 questions across 5 key areas: Trust, Conflict, Commitment, Accountability, and Results
                        </div>
                    </div>

                    <!-- Context Section -->
                    <div class="intro-section">
                        <h3>üìä Why This Matters: The Science of High-Performing Teams</h3>
                        <p><strong>Google's Project Aristotle</strong> analyzed 180+ teams and found psychological safety‚Äînot individual talent‚Äîpredicts team success. Combined with <strong>Patrick Lencioni's 5 Dysfunctions</strong>, this assessment reveals the hidden dynamics that separate elite teams from average ones.</p>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #a93226;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">üîí</div>
                                <strong>Trust</strong><br>
                                <span style="font-size: 0.85em; color: #666;">Vulnerability-based</span>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #d64436;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">‚ö°</div>
                                <strong>Conflict</strong><br>
                                <span style="font-size: 0.85em; color: #666;">Healthy debate</span>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #e87653;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">üéØ</div>
                                <strong>Commitment</strong><br>
                                <span style="font-size: 0.85em; color: #666;">Clarity & buy-in</span>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #f5a26f;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">üëÅÔ∏è</div>
                                <strong>Accountability</strong><br>
                                <span style="font-size: 0.85em; color: #666;">Peer pressure</span>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #ffc285;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">üèÜ</div>
                                <strong>Results</strong><br>
                                <span style="font-size: 0.85em; color: #666;">Collective goals</span>
                            </div>
                        </div>

                        <p style="margin-top: 15px; font-style: italic; color: #888; font-size: 0.9em;">
                            "Not finance. Not strategy. Not technology. It is teamwork that remains the ultimate competitive advantage." ‚Äî Patrick Lencioni
                        </p>
                    </div>
                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-text" id="progressText">Question 1 of 20</div>
                    </div>
                    <!-- Assessment Form -->
                    <div id="assessmentForm">
                        <div class="assessment-card" id="questionCard">
                            <!-- Questions will be dynamically inserted here -->
                        </div>
                        <div class="nav-buttons">
                            <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" style="display: none;">‚Üê Previous</button>
                            <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Next ‚Üí</button>
                        </div>
                    </div>
                    <!-- Results Section -->
                    <div id="results" class="results">
                        <div class="assessment-card">
                            <div id="resultContent"></div>
                            <!-- CTA -->
                            <div class="cta-box">
                                <h3>Ready to Transform Your Team?</h3>
                                <p>Book a complimentary 30-minute Team Dynamics Strategy Session to discuss your results and create a 90-day action plan.</p>
                                <a href="mailto:contact@tap-in-academy.com?subject=Team Assessment Strategy Session" class="btn" style="background: white; color: #a93226;">üìÖ Schedule Strategy Session</a>
                                <div style="margin-top: 20px;">
                                    <a href="index.html" class="btn" style="background: transparent; border: 2px solid white; color: white;">‚Üê Back to Assessments</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    const questions = [
                        // TRUST (4 questions)
                        {
                            section: 'Trust',
                            sectionDesc: 'The foundation of teamwork is vulnerability-based trust.',
                            question: 'Team members openly admit their mistakes and weaknesses',
                            category: 'trust'
                        },
                        {
                            question: 'People ask for help without hesitation',
                            category: 'trust'
                        },
                        {
                            question: 'Team members give each other benefit of the doubt',
                            category: 'trust'
                        },
                        {
                            question: 'People apologize quickly and genuinely when they mess up',
                            category: 'trust'
                        },
                        // CONFLICT (4 questions)
                        {
                            section: 'Conflict',
                            sectionDesc: 'Healthy teams engage in passionate, unfiltered debate.',
                            question: 'Team meetings include passionate, unfiltered debate',
                            category: 'conflict'
                        },
                        {
                            question: 'People voice disagreements during meetings (not after)',
                            category: 'conflict'
                        },
                        {
                            question: 'Conflicts get resolved quickly and cleanly',
                            category: 'conflict'
                        },
                        {
                            question: 'Team members challenge each other\'s ideas respectfully',
                            category: 'conflict'
                        },
                        // COMMITMENT (4 questions)
                        {
                            section: 'Commitment',
                            sectionDesc: 'Teams that debate effectively achieve genuine buy-in and commitment.',
                            question: 'Decisions are made with clarity and buy-in from everyone',
                            category: 'commitment'
                        },
                        {
                            question: 'Team members leave meetings confident about direction',
                            category: 'commitment'
                        },
                        {
                            question: 'People stick to decisions even when they initially disagreed',
                            category: 'commitment'
                        },
                        {
                            question: 'Deadlines and priorities are crystal clear to everyone',
                            category: 'commitment'
                        },
                        // ACCOUNTABILITY (4 questions)
                        {
                            section: 'Accountability',
                            sectionDesc: 'Committed teams hold each other accountable for high standards.',
                            question: 'Team members call each other out on performance issues',
                            category: 'accountability'
                        },
                        {
                            question: 'People take ownership when things go wrong',
                            category: 'accountability'
                        },
                        {
                            question: 'Standards are upheld even when it\'s uncomfortable',
                            category: 'accountability'
                        },
                        {
                            question: 'Team members pressure peers to deliver on commitments',
                            category: 'accountability'
                        },
                        // RESULTS (4 questions)
                        {
                            section: 'Results',
                            sectionDesc: 'Accountable teams focus on collective results over individual goals.',
                            question: 'Team celebrates collective wins over individual achievements',
                            category: 'results'
                        },
                        {
                            question: 'People sacrifice personal agendas for team goals',
                            category: 'results'
                        },
                        {
                            question: 'Success metrics are clearly defined and tracked',
                            category: 'results'
                        },
                        {
                            question: 'Team members are genuinely concerned about letting teammates down',
                            category: 'results'
                        }
                    ];
                    
                    // Dynamic insights that appear after answering questions
                    const insights = [
                        // TRUST insights (Q1-4)
                        { icon: 'üîç', title: 'The Vulnerability Paradox', content: 'Research shows that 75% of team dysfunction stems from lack of trust. But here\'s the twist: vulnerability isn\'t weakness‚Äîit\'s the ultimate strength move. When leaders admit mistakes first, team psychological safety increases by 47%.', quote: '"Trust is knowing that when a team member pushes you, they\'re doing it because they care about the team." - Patrick Lencioni' },
                        { icon: 'ü§ù', title: 'The Help-Seeking Signal', content: 'High-performing teams ask for help 3x more often than average teams. Why? Because asking for help is a trust indicator‚Äîit signals "I believe you\'ll support me, not judge me." Google\'s Project Aristotle found this was the #1 predictor of team success.', quote: 'Fun fact: Navy SEAL teams spend 80% of training time building trust, only 20% on tactics.' },
                        { icon: 'üí°', title: 'Benefit of the Doubt', content: 'Teams with high trust assume positive intent by default. This single shift reduces conflict resolution time by 60%. Instead of "Why did they do that?!" it becomes "What challenge are they facing that I don\'t see?"', quote: 'The Trust Equation: Credibility + Reliability + Intimacy √∑ Self-Orientation = Trust' },
                        { icon: 'üôè', title: 'The Apology Advantage', content: 'Leaders who apologize quickly are rated 23% more effective. Why? Apologies signal: "I value this relationship more than my ego." Bonus: Teams where apologies are normalized resolve conflicts 4x faster.', quote: '"The best apology is changed behavior." - Unknown (but your team knows it!)' },
                        
                        // CONFLICT insights (Q5-8)
                        { icon: '‚öîÔ∏è', title: 'Productive Conflict ‚â† Drama', content: 'Healthy teams spend 40% more time in meetings debating ideas, but 50% less time in dysfunctional conflict afterward. The secret? They fight about IDEAS, not PEOPLE. This is called "task conflict" vs "relationship conflict."', quote: 'Intel\'s Andy Grove: "Disagree and commit" only works if you actually disagree first.' },
                        { icon: 'üéØ', title: 'Real-Time Disagreement', content: 'Teams that resolve disagreements IN the meeting make decisions 3x faster than teams who "parking lot" issues. Why? Because parking lots become graveyards. Address it now, move forward together.', quote: 'The meeting after the meeting is where real decisions die.' },
                        { icon: '‚ö°', title: 'Speed of Resolution', content: 'High-trust teams resolve conflicts in hours, not weeks. The formula? Address early + assume positive intent + focus on solutions. Low-trust teams let resentment compound like credit card debt‚Äîbefore you know it, you\'re bankrupt.', quote: 'Conflict avoided = trust eroded. Conflict engaged = trust strengthened.' },
                        { icon: 'üõ°Ô∏è', title: 'Challenge Culture', content: 'At Pixar, they use "plussing"‚Äîyou can challenge any idea, but you must ADD to it, not just tear it down. Result? Psychological safety + creative tension = masterpieces. Your team can do this too.', quote: 'If everyone is thinking alike, someone isn\'t thinking.' },
                        
                        // COMMITMENT insights (Q9-12)
                        { icon: 'üé™', title: 'Clarity = Commitment', content: 'Vague goals create vague commitment. Teams with crystal-clear objectives are 2.5x more likely to hit targets. The test? Ask 3 team members what the #1 priority is. If you get 3 different answers, you don\'t have commitment.', quote: '"Disagree and commit" - Jeff Bezos. But you can\'t commit to what isn\'t clear.' },
                        { icon: 'üöÄ', title: 'Confidence After Conflict', content: 'Teams that debate intensely but commit fully outperform "consensus-seekers" by 40%. Why? Because real buy-in comes from being HEARD, not from getting your way. Everyone won\'t agree, but everyone will commit.', quote: 'Commitment isn\'t about agreement‚Äîit\'s about clarity and closure.' },
                        { icon: 'üîí', title: 'Disagree & Commit', content: 'Netflix culture: You can disagree strongly during discussion, but once a decision is made, you commit as if it was your idea. This creates alignment without forcing fake consensus. The alternative? Passive-aggressive execution.', quote: 'Supporting a decision you disagree with is leadership. Undermining it is sabotage.' },
                        { icon: 'üìç', title: 'Deadline Discipline', content: 'Teams that track deadlines publicly complete projects 80% faster. Accountability loves visibility. Pro tip: Use a shared dashboard where everyone sees who\'s on track. Peer pressure becomes peer support.', quote: 'A goal without a deadline is just a wish with extra steps.' },
                        
                        // ACCOUNTABILITY insights (Q13-16)
                        { icon: 'üí™', title: 'Peer Accountability > Boss Accountability', content: 'When teams hold EACH OTHER accountable (not just the manager), performance improves 30%. Why? Peer pressure is powerful. Nobody wants to let down people they respect. Make accountability a team sport, not a manager\'s job.', quote: 'If only the leader holds people accountable, you don\'t have a team‚Äîyou have a daycare.' },
                        { icon: 'üéØ', title: 'Ownership Mindset', content: 'High-accountability teams use "I/we" language ("I missed that deadline") vs. low-accountability teams use "it/they" ("The timeline was unrealistic"). This tiny linguistic shift increases problem-solving speed by 50%.', quote: 'Ownership starts the moment you stop blaming.' },
                        { icon: 'üî•', title: 'Standards Under Pressure', content: 'True team culture is revealed when things get hard. Do standards slip, or do they tighten? Navy SEALs say: "Under pressure, you don\'t rise to the occasion‚Äîyou sink to your level of training." Your team standards are your training.', quote: 'What you permit, you promote. What you tolerate becomes your standard.' },
                        { icon: '‚öñÔ∏è', title: 'Constructive Pressure', content: 'Accountability without trust feels like micromanagement. Accountability WITH trust feels like caring. The difference? Intent. "I\'m checking on you because I don\'t trust you" vs. "I\'m checking in because I want you to succeed."', quote: 'Pressure is a privilege when it comes from people who believe in you.' },
                        
                        // RESULTS insights (Q17-20)
                        { icon: 'üèÜ', title: 'Collective > Individual', content: 'Teams that celebrate group wins over individual MVPs are 60% more likely to hit targets. Why? Because when everyone rows together, the boat goes faster. Individual stars create silos. Team wins create momentum.', quote: 'There\'s no "I" in team, but there is in "win"... wait, that doesn\'t work here.' },
                        { icon: 'üé≠', title: 'Ego Check at the Door', content: 'Sacrifice = Success. When team members put collective goals above personal agendas, productivity increases 35%. The anti-pattern? "That\'s not my job" syndrome. High performers ask "How can I help us win?" not "How can I look good?"', quote: 'A player who makes the team great is more valuable than a great player. - John Wooden' },
                        { icon: 'üìä', title: 'Measure What Matters', content: 'You can\'t manage what you don\'t measure. Teams with visible, tracked metrics perform 2x better than teams with vague goals. The rule? If success isn\'t measurable, it\'s just an opinion wearing a fancy hat.', quote: 'What gets measured gets managed. What gets managed gets done.' },
                        { icon: 'ü§≤', title: 'Fear of Letting Down', content: 'The ultimate team glue? Caring more about disappointing teammates than disappointing the boss. When this exists, accountability becomes internal, not external. You show up not because you have to, but because they\'re counting on you.', quote: 'The highest form of accountability is when you hold yourself accountable to your team.' }
                    ];
                    
                    let currentQuestion = 0;
                    let answers = {};
                    function renderQuestion() {
                        const q = questions[currentQuestion];
                        const card = document.getElementById('questionCard');
                        let html = '';
                        if (q.section) {
                            html += `
                                <div class="section-header">
                                    <div class="section-title">Section ${Math.floor(currentQuestion/4) + 1}: ${q.section}</div>
                                    <div class="section-description">${q.sectionDesc}</div>
                                </div>
                            `;
                        }
                        html += `
                            <div class="question">
                                <div class="question-text">
                                    <span class="question-number">${currentQuestion + 1}.</span>
                                    ${q.question}
                                </div>
                                <div class="scale-options">
                        `;
                        const labels = ['Never', 'Rarely', 'Sometimes', 'Often', 'Always'];
                        for (let i = 1; i <= 5; i++) {
                            const selected = answers[currentQuestion] === i ? 'selected' : '';
                            const active = answers[currentQuestion] >= i ? 'active' : '';
                            html += `
                                <label class="scale-option ${selected} ${active}" data-value="${i}">
                                    <input type="radio" name="q${currentQuestion}" value="${i}">
                                    <div class="scale-value">${i}</div>
                                    <div class="scale-label">${labels[i-1]}</div>
                                </label>
                            `;
                        }
                        html += `
                                </div>
                            </div>
                        `;
                        card.innerHTML = html;
                        
                        // Add drag/swipe functionality
                        const scaleContainer = card.querySelector('.scale-options');
                        let isDragging = false;
                        
                        function handleInteraction(e) {
                            const rect = scaleContainer.getBoundingClientRect();
                            const x = (e.clientX || e.touches?.[0]?.clientX) - rect.left;
                            const relativeX = Math.max(0, Math.min(1, x / rect.width));
                            const value = Math.ceil(relativeX * 5) || 1;
                            selectOption(value);
                            updateSliderVisual(value);
                        }
                        
                        function updateSliderVisual(value) {
                            const options = scaleContainer.querySelectorAll('.scale-option');
                            options.forEach((opt, idx) => {
                                if (idx < value) {
                                    opt.classList.add('active');
                                } else {
                                    opt.classList.remove('active');
                                }
                                if (idx === value - 1) {
                                    opt.classList.add('selected');
                                } else {
                                    opt.classList.remove('selected');
                                }
                            });
                        }
                        
                        scaleContainer.addEventListener('mousedown', (e) => {
                            isDragging = true;
                            handleInteraction(e);
                        });
                        
                        scaleContainer.addEventListener('mousemove', (e) => {
                            if (isDragging) handleInteraction(e);
                        });
                        
                        scaleContainer.addEventListener('mouseup', () => {
                            isDragging = false;
                        });
                        
                        scaleContainer.addEventListener('mouseleave', () => {
                            isDragging = false;
                        });
                        
                        scaleContainer.addEventListener('touchstart', (e) => {
                            handleInteraction(e);
                        }, { passive: true });
                        
                        scaleContainer.addEventListener('touchmove', (e) => {
                            handleInteraction(e);
                        }, { passive: true });
                        
                        updateProgress();
                        updateButtons();
                    }
                    function selectOption(value) {
                        answers[currentQuestion] = value;
                        document.querySelectorAll('.scale-option').forEach(opt => opt.classList.remove('selected'));
                        document.getElementById('nextBtn').disabled = false;
                        
                        // Show insight after answering
                        showInsight();
                    }
                    
                    function showInsight() {
                        // Remove any existing insight
                        const existingInsight = document.querySelector('.insight-card');
                        if (existingInsight) existingInsight.remove();
                        
                        // Get insight for current question
                        const insight = insights[currentQuestion];
                        if (!insight) return;
                        
                        // Create insight card
                        const insightHTML = `
                            <div class="insight-card">
                                <div class="insight-header">
                                    <span class="insight-icon">${insight.icon}</span>
                                    <span class="insight-title">${insight.title}</span>
                                </div>
                                <div class="insight-content">${insight.content}</div>
                                <div class="insight-quote">${insight.quote}</div>
                            </div>
                        `;
                        
                        // Insert after the question
                        const questionCard = document.getElementById('questionCard');
                        questionCard.insertAdjacentHTML('beforeend', insightHTML);
                        
                        // Smooth scroll to keep insight visible
                        setTimeout(() => {
                            const insightElement = document.querySelector('.insight-card');
                            if (insightElement) {
                                insightElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            }
                        }, 100);
                    }
                    function updateProgress() {
                        const progress = ((currentQuestion + 1) / questions.length) * 100;
                        document.getElementById('progressFill').style.width = progress + '%';
                        document.getElementById('progressText').textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
                    }
                    function updateButtons() {
                        const prevBtn = document.getElementById('prevBtn');
                        const nextBtn = document.getElementById('nextBtn');
                        prevBtn.style.display = currentQuestion > 0 ? 'block' : 'none';
                        nextBtn.textContent = currentQuestion === questions.length - 1 ? 'See Results ‚Üí' : 'Next ‚Üí';
                        nextBtn.disabled = !answers.hasOwnProperty(currentQuestion);
                    }
                    function nextQuestion() {
                        if (currentQuestion < questions.length - 1) {
                            currentQuestion++;
                            renderQuestion();
                            window.scrollTo(0, 0);
                        } else {
                            showResults();
                        }
                    }
                    function previousQuestion() {
                        if (currentQuestion > 0) {
                            currentQuestion--;
                            renderQuestion();
                            window.scrollTo(0, 0);
                        }
                    }
                    function getScoreInterpretation(score, category) {
                        const interpretations = {
                            trust: {
                                high: { level: 'Strong Foundation', desc: 'Your team has psychological safety and vulnerability-based trust. Members feel safe taking risks and being authentic.', color: '#27ae60' },
                                medium: { level: 'Building Trust', desc: 'Some trust exists but isn\'t consistent under pressure. Team members are selective about vulnerability.', color: '#f39c12' },
                                low: { level: 'Trust Gaps', desc: 'Significant issues exist. People play it safe, hide problems, and avoid vulnerability.', color: '#e67e22' },
                                critical: { level: 'Critical', desc: 'Team is operating in survival mode. Fear and self-protection dominate interactions.', color: '#c0392b' }
                            },
                            conflict: {
                                high: { level: 'Healthy Debate', desc: 'Your team has a productive conflict culture. Disagreements lead to better decisions and breakthroughs.', color: '#27ae60' },
                                medium: { level: 'Selective Engagement', desc: 'Some debate happens, but certain topics remain off-limits. Artificial harmony occasionally prevails.', color: '#f39c12' },
                                low: { level: 'Conflict Avoidance', desc: 'Important issues get swept under the rug. Disagreements happen after meetings, not during.', color: '#e67e22' },
                                critical: { level: 'Toxic Harmony', desc: 'Team prioritizes peace over progress. Critical issues never surface.', color: '#c0392b' }
                            },
                            commitment: {
                                high: { level: 'Clear Alignment', desc: 'Everyone knows their role and priorities. Decisions are made with genuine buy-in.', color: '#27ae60' },
                                medium: { level: 'General Agreement', desc: 'Usually aligned, but occasional confusion about direction and priorities exists.', color: '#f39c12' },
                                low: { level: 'Mixed Signals', desc: 'People interpret decisions differently. Lack of clarity leads to misalignment.', color: '#e67e22' },
                                critical: { level: 'Chaos', desc: 'Team constantly changes direction. No one is confident about priorities.', color: '#c0392b' }
                            },
                            accountability: {
                                high: { level: 'Peer Accountability', desc: 'Team self-regulates performance. Members hold each other to high standards.', color: '#27ae60' },
                                medium: { level: 'Selective Standards', desc: 'Accountability varies by person and situation. Inconsistent enforcement of standards.', color: '#f39c12' },
                                low: { level: 'Manager-Dependent', desc: 'Only leaders hold people accountable. Peers avoid difficult conversations.', color: '#e67e22' },
                                critical: { level: 'No Standards', desc: 'Poor performance goes unaddressed. No one holds anyone accountable.', color: '#c0392b' }
                            },
                            results: {
                                high: { level: 'Team-First Mindset', desc: 'Collective success drives behavior. Team celebrates together and fails together.', color: '#27ae60' },
                                medium: { level: 'Usually Aligned', desc: 'Most people prioritize team goals, but individual agendas occasionally compete.', color: '#f39c12' },
                                low: { level: 'Competing Priorities', desc: 'Individual success often trumps team outcomes. Mixed loyalty to collective goals.', color: '#e67e22' },
                                critical: { level: 'Silos', desc: 'Everyone focused on personal success. No shared commitment to collective results.', color: '#c0392b' }
                            }
                        };
                        const level = score >= 16 ? 'high' : score >= 11 ? 'medium' : score >= 6 ? 'low' : 'critical';
                        return interpretations[category][level];
                    }
                    function getRecommendation(score, category) {
                        const recommendations = {
                            trust: {
                                high: 'Maintain this foundation through continued vulnerability and authentic communication.',
                                medium: 'Focus on building consistent vulnerability, especially under pressure.',
                                low: 'Start with small trust-building exercises and create psychological safety.',
                                critical: 'Consider TAP-IN\'s White Belt Fundamentals program - intensive trust rebuilding.'
                            },
                            conflict: {
                                high: 'Continue fostering healthy debate while maintaining respect and focus.',
                                medium: 'Work on making all topics discussable, not just comfortable ones.',
                                low: 'Implement structured conflict protocols and practice difficult conversations.',
                                critical: 'TAP-IN\'s Conflict Sparring Labs can transform your conflict culture in 90 days.'
                            },
                            commitment: {
                                high: 'Keep decision-making processes clear and maintain consistent follow-through.',
                                medium: 'Improve decision documentation and alignment verification.',
                                low: 'Create explicit decision protocols and confirmation processes.',
                                critical: 'TAP-IN\'s Blue Belt Rhythm Lab establishes clear decision-making cadence.'
                            },
                            accountability: {
                                high: 'Sustain peer accountability through continued reinforcement of standards.',
                                medium: 'Build peer-to-peer feedback skills and accountability rituals.',
                                low: 'Implement team agreements and peer accountability practices.',
                                critical: 'TAP-IN\'s Purple Belt Sync program builds systematic accountability.'
                            },
                            results: {
                                high: 'Continue aligning individual and team goals for sustained excellence.',
                                medium: 'Strengthen connection between personal success and team outcomes.',
                                low: 'Clarify team metrics and create shared accountability for results.',
                                critical: 'TAP-IN\'s results-focused coaching realigns team priorities in weeks.'
                            }
                        };
                        const level = score >= 16 ? 'high' : score >= 11 ? 'medium' : score >= 6 ? 'low' : 'critical';
                        return recommendations[category][level];
                    }
                    function showResults() {
                        // Calculate scores by category
                        const trustScore = [0,1,2,3].reduce((sum, i) => sum + (answers[i] || 0), 0);
                        const conflictScore = [4,5,6,7].reduce((sum, i) => sum + (answers[i] || 0), 0);
                        const commitmentScore = [8,9,10,11].reduce((sum, i) => sum + (answers[i] || 0), 0);
                        const accountabilityScore = [12,13,14,15].reduce((sum, i) => sum + (answers[i] || 0), 0);
                        const resultsScore = [16,17,18,19].reduce((sum, i) => sum + (answers[i] || 0), 0);
                        const totalScore = trustScore + conflictScore + commitmentScore + accountabilityScore + resultsScore;
                        const categories = [
                            { name: 'Trust', score: trustScore, cat: 'trust', icon: 'ü§ù' },
                            { name: 'Conflict Navigation', score: conflictScore, cat: 'conflict', icon: 'üí¨' },
                            { name: 'Commitment', score: commitmentScore, cat: 'commitment', icon: 'üéØ' },
                            { name: 'Accountability', score: accountabilityScore, cat: 'accountability', icon: '‚úÖ' },
                            { name: 'Results Focus', score: resultsScore, cat: 'results', icon: 'üèÜ' }
                        ];
                        const overallLevel = totalScore >= 80 ? 
                            { emoji: 'üåü', text: 'High-Performing Team', desc: 'Strong foundation for excellence with opportunities to sustain and scale.' } :
                            totalScore >= 60 ?
                            { emoji: '‚úÖ', text: 'Functional Team', desc: 'Solid basics with clear opportunities for improvement and growth.' } :
                            totalScore >= 40 ?
                            { emoji: '‚ö†Ô∏è', text: 'Struggling Team', desc: 'Significant challenges requiring focused intervention and development.' } :
                            { emoji: 'üö®', text: 'Critical Attention Needed', desc: 'Fundamental dysfunctions require immediate and comprehensive transformation.' };
                        document.getElementById('assessmentForm').classList.add('hidden');
                        document.getElementById('results').classList.add('active');
                        let html = `
                            <div class="overall-score">
                                <h2>${overallLevel.emoji} ${overallLevel.text}</h2>
                                <div class="score">${totalScore}/100</div>
                                <p>${overallLevel.desc}</p>
                            </div>
                        `;
                        categories.forEach(cat => {
                            const interp = getScoreInterpretation(cat.score, cat.cat);
                            const recommendation = getRecommendation(cat.score, cat.cat);
                            const percentage = (cat.score / 20) * 100;
                            html += `
                                <div class="score-section">
                                    <h3>${cat.icon} ${cat.name}: ${cat.score}/20</h3>
                                    <div class="score-bar">
                                        <div class="score-bar-fill" style="width: ${percentage}%; background: ${interp.color};"></div>
                                    </div>
                                    <div class="score-display" style="color: ${interp.color};">${interp.level}</div>
                                    <p class="score-interpretation">${interp.desc}</p>
                                    <div class="recommendation">
                                        <h4>üí° Recommendation:</h4>
                                        <p>${recommendation}</p>
                                    </div>
                                </div>
                            `;
                        });
                        document.getElementById('resultContent').innerHTML = html;
                        window.scrollTo(0, 0);
                    }
                    
                    // Load stats from stats.json
                    async function loadStats() {
                        try {
                            const response = await fetch('/stats.json');
                            const stats = await response.json();
                            document.getElementById('totalUsers').textContent = stats.totalUsers.toLocaleString() + '+';
                            document.getElementById('totalAssessments').textContent = stats.totalAssessments.toLocaleString();
                            document.getElementById('countries').textContent = stats.countries;
                        } catch (error) {
                            console.log('Stats not available yet');
                        }
                    }
                    
                    // Initialize
                    loadStats();
                    renderQuestion();
                </script>
            </body>
            </html>
